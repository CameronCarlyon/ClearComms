import"../chunks/Bzak7iHL.js";import{d as Ce,c as Le,e as Ye,s as Me,o as ni,a as ii}from"../chunks/DUTSy8e9.js";import{y as re,z as ai,x as si,h as l,V as li,A as ri,H as oi,B as yt,C as Lt,D as nt,M as ze,ae as ci,ai as ui,G as rt,J as di,I as vi,am as kt,aa as Dt,F as gi,aA as fi,aE as xt,aF as hi,K as Pt,L as mi,aG as pi,aH as it,aI as Tt,aJ as _i,aK as wi,ag as Ci,aL as bi,al as yi,aM as Li,Z as xi,aN as Mi,aO as Ni,aP as Ai,aQ as Si,aR as Ii,p as ce,m as $,q as F,aB as U,v as H,t as me,a as y,o as ue,X as f,aC as V,f as Y,w as j,c as ne,s as ye,aS as te,d as Be,W as fe,aT as Ei}from"../chunks/Bds6O_sK.js";import{p as J,i as G,b as zi}from"../chunks/Fn2OJ7u9.js";import{d as vt,w as Ze}from"../chunks/yaB976ma.js";import{i as Bi}from"../chunks/DdfuMwl4.js";let Mt=!1;function ki(){Mt||(Mt=!0,document.addEventListener("reset",n=>{Promise.resolve().then(()=>{var e;if(!n.defaultPrevented)for(const t of n.target.elements)(e=t.__on_r)==null||e.call(t)})},{capture:!0}))}function Di(n,e){return e}function Pi(n,e,t){for(var a=n.items,r=[],c=e.length,u=0;u<c;u++)bi(e[u].e,r,!0);var p=c>0&&r.length===0&&t!==null;if(p){var m=t.parentNode;yi(m),m.append(t),a.clear(),_e(n,e[0].prev,e[c-1].next)}Li(r,()=>{for(var w=0;w<c;w++){var S=e[w];p||(a.delete(S.k),_e(n,S.prev,S.next)),Tt(S.e,!p)}})}function Rt(n,e,t,a,r,c=null){var u=n,p={flags:e,items:new Map,first:null};re&&ai();var m=null,w=!1,S=new Map,D=li(()=>{var g=t();return Dt(g)?g:g==null?[]:kt(g)}),_,z;function L(){Ti(z,_,p,S,u,r,e,a,t),c!==null&&(_.length===0?m?Pt(m):m=rt(()=>c(u)):m!==null&&mi(m,()=>{m=null}))}si(()=>{z??(z=xi),_=l(D);var g=_.length;if(w&&g===0)return;w=g===0;let M=!1;if(re){var T=ri(u)===oi;T!==(g===0)&&(u=yt(),Lt(u),nt(!1),M=!0)}if(re){for(var B=null,v,C=0;C<g;C++){if(ze.nodeType===ci&&ze.data===ui){u=ze,M=!0,nt(!1);break}var I=_[C],x=a(I,C);v=ot(ze,p,B,null,I,x,C,r,e,t),p.items.set(x,v),B=v}g>0&&Lt(yt())}if(re)g===0&&c&&(m=rt(()=>c(u)));else if(di()){var E=new Set,A=vi;for(C=0;C<g;C+=1){I=_[C],x=a(I,C);var k=p.items.get(x)??S.get(x);k?Ot(k,I,C):(v=ot(null,p,null,null,I,x,C,r,e,t,!0),S.set(x,v)),E.add(x)}for(const[O,N]of p.items)E.has(O)||A.skipped_effects.add(N.e);A.add_callback(L)}else L();M&&nt(!0),l(D)}),re&&(u=ze)}function Ti(n,e,t,a,r,c,u,p,m){var w=e.length,S=t.items,D=t.first,_=D,z,L=null,g=[],M=[],T,B,v,C;for(C=0;C<w;C+=1){if(T=e[C],B=p(T,C),v=S.get(B),v===void 0){var I=a.get(B);if(I!==void 0){a.delete(B),S.set(B,I);var x=L?L.next:_;_e(t,L,I),_e(t,I,x),at(I,x,r),L=I}else{var E=_?_.e.nodes_start:r;L=ot(E,t,L,L===null?t.first:L.next,T,B,C,c,u,m)}S.set(B,L),g=[],M=[],_=L.next;continue}if(Ot(v,T,C),(v.e.f&it)!==0&&Pt(v.e),v!==_){if(z!==void 0&&z.has(v)){if(g.length<M.length){var A=M[0],k;L=A.prev;var O=g[0],N=g[g.length-1];for(k=0;k<g.length;k+=1)at(g[k],A,r);for(k=0;k<M.length;k+=1)z.delete(M[k]);_e(t,O.prev,N.next),_e(t,L,O),_e(t,N,A),_=A,L=N,C-=1,g=[],M=[]}else z.delete(v),at(v,_,r),_e(t,v.prev,v.next),_e(t,v,L===null?t.first:L.next),_e(t,L,v),L=v;continue}for(g=[],M=[];_!==null&&_.k!==B;)(_.e.f&it)===0&&(z??(z=new Set)).add(_),M.push(_),_=_.next;if(_===null)continue;v=_}g.push(v),L=v,_=v.next}if(_!==null||z!==void 0){for(var P=z===void 0?[]:kt(z);_!==null;)(_.e.f&it)===0&&P.push(_),_=_.next;var K=P.length;if(K>0){var ee=null;Pi(t,P,ee)}}n.first=t.first&&t.first.e,n.last=L&&L.e;for(var q of a.values())Tt(q.e);a.clear()}function Ot(n,e,t,a){hi(n.v,e),n.i=t}function ot(n,e,t,a,r,c,u,p,m,w,S){var D=(m&_i)!==0,_=(m&wi)===0,z=D?_?fi(r,!1,!1):xt(r):r,L=(m&pi)===0?u:xt(u),g={i:L,v:z,k:c,a:null,e:null,prev:t,next:a};try{if(n===null){var M=document.createDocumentFragment();M.append(n=gi())}return g.e=rt(()=>p(n,z,L,w),re),g.e.prev=t&&t.e,g.e.next=a&&a.e,t===null?S||(e.first=g):(t.next=g,t.e.next=g.e),a!==null&&(a.prev=g,a.e.prev=g.e),g}finally{}}function at(n,e,t){for(var a=n.next?n.next.e.nodes_start:t,r=e?e.e.nodes_start:t,c=n.e.nodes_start;c!==null&&c!==a;){var u=Ci(c);r.before(c),c=u}}function _e(n,e,t){e===null?n.first=t:(e.next=t,e.e.next=t&&t.e),t!==null&&(t.prev=e,t.e.prev=e&&e.e)}const Nt=[...` 	
\r\fÂ \v\uFEFF`];function Ri(n,e,t){var a=n==null?"":""+n;if(e&&(a=a?a+" "+e:e),t){for(var r in t)if(t[r])a=a?a+" "+r:r;else if(a.length)for(var c=r.length,u=0;(u=a.indexOf(r,u))>=0;){var p=u+c;(u===0||Nt.includes(a[u-1]))&&(p===a.length||Nt.includes(a[p]))?a=(u===0?"":a.substring(0,u))+a.substring(p+1):u=p}}return a===""?null:a}function Oi(n,e){return n==null?null:String(n)}function he(n,e,t,a,r,c){var u=n.__className;if(re||u!==t||u===void 0){var p=Ri(t,a,c);(!re||p!==n.getAttribute("class"))&&(p==null?n.removeAttribute("class"):n.className=p),n.__className=t}else if(c&&r!==c)for(var m in c){var w=!!c[m];(r==null||w!==!!r[m])&&n.classList.toggle(m,w)}return c}function Wt(n,e,t,a){var r=n.__style;if(re||r!==e){var c=Oi(e);(!re||c!==n.getAttribute("style"))&&(c==null?n.removeAttribute("style"):n.style.cssText=c),n.__style=e}return a}const Wi=Symbol("is custom element"),Vi=Symbol("is html");function Vt(n){if(re){var e=!1,t=()=>{if(!e){if(e=!0,n.hasAttribute("value")){var a=n.value;Q(n,"value",null),n.value=a}if(n.hasAttribute("checked")){var r=n.checked;Q(n,"checked",null),n.checked=r}}};n.__on_r=t,Ii(t),ki()}}function Ft(n,e){var t=Ht(n);t.value===(t.value=e??void 0)||n.value===e&&(e!==0||n.nodeName!=="PROGRESS")||(n.value=e??"")}function Q(n,e,t,a){var r=Ht(n);re&&(r[e]=n.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&n.nodeName==="LINK")||r[e]!==(r[e]=t)&&(e==="loading"&&(n[Mi]=t),t==null?n.removeAttribute(e):typeof t!="string"&&Fi(n).includes(e)?n[e]=t:n.setAttribute(e,t))}function Ht(n){return n.__attributes??(n.__attributes={[Wi]:n.nodeName.includes("-"),[Vi]:n.namespaceURI===Ni})}var At=new Map;function Fi(n){var e=At.get(n.nodeName);if(e)return e;At.set(n.nodeName,e=[]);for(var t,a=n,r=Element.prototype;r!==a;){t=Si(a);for(var c in t)t[c].set&&e.push(c);a=Ai(a)}return e}function ae(n,e){var c;var t=(c=n.$$events)==null?void 0:c[e.type],a=Dt(t)?t.slice():t==null?[]:[t];for(var r of a)r.call(this,e)}function Hi(n,e,t,a){if(typeof e=="function"?n!==e||!a:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?a:t==="a"?a.call(n):a?a.value:e.get(n)}function Ui(n,e,t,a,r){if(typeof e=="function"?n!==e||!0:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(n,t),t}var Qe;const oe="__TAURI_TO_IPC_KEY__";function Gi(n,e=!1){return window.__TAURI_INTERNALS__.transformCallback(n,e)}async function d(n,e={},t){return window.__TAURI_INTERNALS__.invoke(n,e,t)}class qi{get rid(){return Hi(this,Qe,"f")}constructor(e){Qe.set(this,void 0),Ui(this,Qe,e)}async close(){return d("plugin:resources|close",{rid:this.rid})}}Qe=new WeakMap;function Ji(n,e,t,a,r,c){const u=n.currentTarget;f(e,!1),f(t,!1),f(a,r.volume,!0),c("dragstart",{sessionId:r.sessionId});try{u.setPointerCapture(n.pointerId)}catch{}}function Qi(n,e){n.buttons===1&&(l(e)||f(e,!0))}function Yi(n,e,t,a,r){var u;const c=n.currentTarget;if(l(e)){const p=parseFloat(c.value);t("dragend",{sessionId:a.sessionId,volume:p})}if(f(e,!1),f(r,!1),(u=c.hasPointerCapture)!=null&&u.call(c,n.pointerId))try{c.releasePointerCapture(n.pointerId)}catch{}}var Ki=$('<div class="volume-bar-container svelte-v44myx"><input type="range" class="volume-slider svelte-v44myx" min="0" max="1" step="0.01"/></div>');function Zi(n,e){ce(e,!0);let t=J(e,"disabled",3,!1);const a=Le();let r=U(!1),c=U(!1),u=U(0);function p(D){const _=D.currentTarget,z=parseFloat(_.value);if(!(l(c)&&!l(r))){if(!l(r)){f(c,!0),_.value=l(u).toString(),a("trackclick",{sessionId:e.sessionId,volume:z});return}a("dragmove",{sessionId:e.sessionId,volume:z})}}function m(D){D.preventDefault();const _=D.deltaY>0?-.05:.05,z=Math.max(0,Math.min(1,e.volume+_));a("wheel",{sessionId:e.sessionId,volume:z})}var w=Ki(),S=F(w);Vt(S),Q(S,"aria-valuemin",0),Q(S,"aria-valuemax",100),S.__pointerdown=[Ji,r,c,u,e,a],S.__pointermove=[Qi,r],S.__input=p,S.__pointerup=[Yi,r,a,e,c],H(w),me((D,_)=>{Ft(S,e.volume),Q(S,"aria-label",`Volume for ${e.displayName??""}`),Q(S,"aria-valuenow",D),Q(S,"aria-valuetext",`${_??""} percent`),Wt(S,`--volume-percent: ${e.volume*100}%`),S.disabled=t()},[()=>Math.round(e.volume*100),()=>Math.round(e.volume*100)]),Ye("wheel",S,m),y(n,w),ue()}Ce(["pointerdown","pointermove","input","pointerup"]);function ji(n,e,t,a,r){if(!e())switch(t.variant){case"toggle":a("toggle");break;case"bind":r()?a("cancel"):a("startbind");break;case"mapping":a("remove");break;case"action":a("click");break}}var Xi=$('<span class="bind-icon default svelte-1ggwv8r" aria-hidden="true"><!></span> <span class="bind-icon hover svelte-1ggwv8r" aria-hidden="true"><!></span>',1),$i=$('<span class="mapping-icon default svelte-1ggwv8r" aria-hidden="true"><!></span> <span class="mapping-icon hover svelte-1ggwv8r" aria-hidden="true"><!></span>',1),ea=$('<button type="button"><!></button>');function pe(n,e){ce(e,!0);let t=J(e,"active",3,!1),a=J(e,"disabled",3,!1),r=J(e,"danger",3,!1),c=J(e,"ariaLabel",3,""),u=J(e,"title",3,"");const p=Le(),m=V(()=>{if(a()&&e.variant!=="mapping")return"btn-unavail";switch(e.variant){case"toggle":return t()?"btn-enabled":"btn-disabled";case"bind":return"btn-disabled";case"mapping":return"mapping-badge mapping-removable";case"action":return r()?"btn-close":"btn-disabled";default:return"btn-disabled"}});var w=ea();let S;w.__click=[ji,a,e,p,t];var D=F(w);{var _=L=>{var g=Xi(),M=Y(g),T=F(M);{var B=x=>{var E=ne(),A=Y(E);ye(A,()=>e.icon),y(x,E)};G(T,x=>{e.icon&&x(B)})}H(M);var v=j(M,2),C=F(v);{var I=x=>{var E=ne(),A=Y(E);ye(A,()=>e.hoverIcon),y(x,E)};G(C,x=>{e.hoverIcon&&x(I)})}H(v),y(L,g)},z=L=>{var g=ne(),M=Y(g);{var T=v=>{var C=$i(),I=Y(C),x=F(I);{var E=N=>{var P=ne(),K=Y(P);ye(K,()=>e.icon),y(N,P)};G(x,N=>{e.icon&&N(E)})}H(I);var A=j(I,2),k=F(A);{var O=N=>{var P=ne(),K=Y(P);ye(K,()=>e.removeIcon),y(N,P)};G(k,N=>{e.removeIcon&&N(O)})}H(A),y(v,C)},B=v=>{var C=ne(),I=Y(C);{var x=E=>{var A=ne(),k=Y(A);ye(k,()=>e.icon),y(E,A)};G(I,E=>{e.icon&&E(x)})}y(v,C)};G(M,v=>{e.variant==="mapping"?v(T):v(B,!1)},!0)}y(L,g)};G(D,L=>{e.variant==="bind"&&!t()?L(_):L(z,!1)})}H(w),me(L=>{S=he(w,1,`btn btn-channel ${l(m)??""}`,"svelte-1ggwv8r",S,L),w.disabled=a(),Q(w,"aria-label",c()),Q(w,"aria-pressed",e.variant==="toggle"?t():void 0),Q(w,"title",u())},[()=>({"btn-bind":e.variant==="bind"&&!t(),active:t()&&e.variant==="toggle",button:e.variant==="mapping"})]),y(n,w),ue()}Ce(["click"]);async function ta(n,e,t,a){var r;e()||t()||await((r=a.onclick)==null?void 0:r.call(a))}var na=$("<button> </button>");function ia(n,e){ce(e,!0);let t=J(e,"label",3,"Button"),a=J(e,"loadingLabel",3,"Loading..."),r=J(e,"disabled",3,!1),c=J(e,"isLoading",3,!1),u=J(e,"class",3,"");var p=na();p.__click=[ta,r,c,e];var m=F(p,!0);H(p),me(()=>{he(p,1,`btn-pill ${u()??""}`,"svelte-6sles4"),p.disabled=r()||c(),Q(p,"aria-label",e.ariaLabel),Q(p,"aria-busy",c()),Me(m,c()?a():t())}),y(n,p),ue()}Ce(["click"]);function aa(n,e,t){n.stopPropagation(),e("select",{processName:t.processName})}var sa=$('<button role="option" aria-selected="false"> </button>');function ct(n,e){ce(e,!0);let t=J(e,"danger",3,!1),a=J(e,"fullWidth",3,!1),r=J(e,"animationIndex",3,0);const c=Le();var u=sa();let p;u.__click=[aa,c,e];var m=F(u,!0);H(u),me(w=>{p=he(u,1,"list-option svelte-3jfz80",null,p,w),Q(u,"aria-label",e.ariaLabel||(e.displayName?`Select ${e.displayName}`:"")),Wt(u,`--animation-delay: ${r()*.05}s`),Me(m,e.displayName||"")},[()=>({danger:t(),"full-width":a()})]),y(n,u),ue()}Ce(["click"]);Ce(["click"]);const Ut=Ze([]),Gt=Ze([]),qt=Ze([]),Jt=Ze(new Set),la=vt([Gt,qt,Jt],([n,e,t])=>new Set([...n.map(a=>a.processName),...e.map(a=>a.processName),...t]));vt([Ut,Gt,qt,Jt],([n,e,t,a])=>{const r=new Set([...e.map(m=>m.processName),...t.map(m=>m.processName),...a]),c=[],u=new Set;for(const m of n)r.has(m.process_name)&&!u.has(m.process_name)&&(c.push(m),u.add(m.process_name));const p=[...e,...t];for(const m of p)u.has(m.processName)||(c.push({session_id:`inactive_${m.processName}`,display_name:m.sessionName,process_id:0,process_name:m.processName,volume:0,is_muted:!0}),u.add(m.processName));for(const m of a)if(!u.has(m)){const w=n.find(S=>S.process_name===m);w?c.push(w):c.push({session_id:`inactive_${m}`,display_name:m,process_id:0,process_name:m,volume:0,is_muted:!0}),u.add(m)}return c});vt([Ut,la],([n,e])=>n.filter(t=>!e.has(t.process_name)));function gt(n){const e={"vpilot.exe":"vPilot","couatl.exe":"GSX"},t=n.toLowerCase();if(e[t])return e[t];let a=n.replace(/\.exe$/i,"");return a=a.split(/[-_\s]/).map(r=>r.charAt(0).toUpperCase()+r.slice(1).toLowerCase()).join(" "),a}var ra=te('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" width="20" height="20" fill="currentColor"><path d="M183.1 137.4C170.6 124.9 150.3 124.9 137.8 137.4C125.3 149.9 125.3 170.2 137.8 182.7L275.2 320L137.9 457.4C125.4 469.9 125.4 490.2 137.9 502.7C150.4 515.2 170.7 515.2 183.2 502.7L320.5 365.3L457.9 502.6C470.4 515.1 490.7 515.1 503.2 502.6C515.7 490.1 515.7 469.8 503.2 457.3L365.8 320L503.1 182.6C515.6 170.1 515.6 149.8 503.1 137.3C490.6 124.8 470.3 124.8 457.8 137.3L320.5 274.7L183.1 137.4z"></path></svg>'),oa=te('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" width="20" height="20" fill="currentColor"><path d="M183.1 137.4C170.6 124.9 150.3 124.9 137.8 137.4C125.3 149.9 125.3 170.2 137.8 182.7L275.2 320L137.9 457.4C125.4 469.9 125.4 490.2 137.9 502.7C150.4 515.2 170.7 515.2 183.2 502.7L320.5 365.3L457.9 502.6C470.4 515.1 490.7 515.1 503.2 502.6C515.7 490.1 515.7 469.8 503.2 457.3L365.8 320L503.1 182.6C515.6 170.1 515.6 149.8 503.1 137.3C490.6 124.8 470.3 124.8 457.8 137.3L320.5 274.7L183.1 137.4z"></path></svg>'),ca=te('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" width="20" height="20" fill="currentColor"><path d="M183.1 137.4C170.6 124.9 150.3 124.9 137.8 137.4C125.3 149.9 125.3 170.2 137.8 182.7L275.2 320L137.9 457.4C125.4 469.9 125.4 490.2 137.9 502.7C150.4 515.2 170.7 515.2 183.2 502.7L320.5 365.3L457.9 502.6C470.4 515.1 490.7 515.1 503.2 502.6C515.7 490.1 515.7 469.8 503.2 457.3L365.8 320L503.1 182.6C515.6 170.1 515.6 149.8 503.1 137.3C490.6 124.8 470.3 124.8 457.8 137.3L320.5 274.7L183.1 137.4z"></path></svg>'),ua=te('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" width="20" height="20" fill="currentColor"><path d="M80 416L128 416L262.1 535.2C268.5 540.9 276.7 544 285.2 544C304.4 544 320 528.4 320 509.2L320 130.8C320 111.6 304.4 96 285.2 96C276.7 96 268.5 99.1 262.1 104.8L128 224L80 224C53.5 224 32 245.5 32 272L32 368C32 394.5 53.5 416 80 416zM399 239C389.6 248.4 389.6 263.6 399 272.9L446 319.9L399 366.9C389.6 376.3 389.6 391.5 399 400.8C408.4 410.1 423.6 410.2 432.9 400.8L479.9 353.8L526.9 400.8C536.3 410.2 551.5 410.2 560.8 400.8C570.1 391.4 570.2 376.2 560.8 366.9L513.8 319.9L560.8 272.9C570.2 263.5 570.2 248.3 560.8 239C551.4 229.7 536.2 229.6 526.9 239L479.9 286L432.9 239C423.5 229.6 408.3 229.6 399 239z"></path></svg>'),da=te('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" width="20" height="20" fill="currentColor"><path d="M352 128C352 110.3 337.7 96 320 96C302.3 96 288 110.3 288 128L288 288L128 288C110.3 288 96 302.3 96 320C96 337.7 110.3 352 128 352L288 352L288 512C288 529.7 302.3 544 320 544C337.7 544 352 529.7 352 512L352 352L512 352C529.7 352 544 337.7 544 320C544 302.3 529.7 288 512 288L352 288L352 128z"></path></svg>'),va=te('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" width="20" height="20" fill="currentColor" aria-hidden="true"><path d="M80 416L128 416L262.1 535.2C268.5 540.9 276.7 544 285.2 544C304.4 544 320 528.4 320 509.2L320 130.8C320 111.6 304.4 96 285.2 96C276.7 96 268.5 99.1 262.1 104.8L128 224L80 224C53.5 224 32 245.5 32 272L32 368C32 394.5 53.5 416 80 416zM399 239C389.6 248.4 389.6 263.6 399 272.9L446 319.9L399 366.9C389.6 376.3 389.6 391.5 399 400.8C408.4 410.1 423.6 410.2 432.9 400.8L479.9 353.8L526.9 400.8C536.3 410.2 551.5 410.2 560.8 400.8C570.1 391.4 570.2 376.2 560.8 366.9L513.8 319.9L560.8 272.9C570.2 263.5 570.2 248.3 560.8 239C551.4 229.7 536.2 229.6 526.9 239L479.9 286L432.9 239C423.5 229.6 408.3 229.6 399 239z"></path></svg>'),ga=te('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" width="20" height="20" fill="currentColor" aria-hidden="true"><path d="M533.6 96.5C523.3 88.1 508.2 89.7 499.8 100C491.4 110.3 493 125.4 503.3 133.8C557.5 177.8 592 244.8 592 320C592 395.2 557.5 462.2 503.3 506.3C493 514.7 491.5 529.8 499.8 540.1C508.1 550.4 523.3 551.9 533.6 543.6C598.5 490.7 640 410.2 640 320C640 229.8 598.5 149.2 533.6 96.5zM473.1 171C462.8 162.6 447.7 164.2 439.3 174.5C430.9 184.8 432.5 199.9 442.8 208.3C475.3 234.7 496 274.9 496 320C496 365.1 475.3 405.3 442.8 431.8C432.5 440.2 431 455.3 439.3 465.6C447.6 475.9 462.8 477.4 473.1 469.1C516.3 433.9 544 380.2 544 320.1C544 260 516.3 206.3 473.1 171.1zM412.6 245.5C402.3 237.1 387.2 238.7 378.8 249C370.4 259.3 372 274.4 382.3 282.8C393.1 291.6 400 305 400 320C400 335 393.1 348.4 382.3 357.3C372 365.7 370.5 380.8 378.8 391.1C387.1 401.4 402.3 402.9 412.6 394.6C434.1 376.9 448 350.1 448 320C448 289.9 434.1 263.1 412.6 245.5zM80 416L128 416L262.1 535.2C268.5 540.9 276.7 544 285.2 544C304.4 544 320 528.4 320 509.2L320 130.8C320 111.6 304.4 96 285.2 96C276.7 96 268.5 99.1 262.1 104.8L128 224L80 224C53.5 224 32 245.5 32 272L32 368C32 394.5 53.5 416 80 416z"></path></svg>'),fa=te('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" width="20" height="20" fill="currentColor" aria-hidden="true"><path d="M144 416L192 416L326.1 535.2C332.5 540.9 340.7 544 349.2 544C368.4 544 384 528.4 384 509.2L384 130.8C384 111.6 368.4 96 349.2 96C340.7 96 332.5 99.1 326.1 104.8L192 224L144 224C117.5 224 96 245.5 96 272L96 368C96 394.5 117.5 416 144 416zM476.6 245.5C466.3 237.1 451.2 238.7 442.8 249C434.4 259.3 436 274.4 446.3 282.8C457.1 291.6 464 305 464 320C464 335 457.1 348.4 446.3 357.3C436 365.7 434.5 380.8 442.8 391.1C451.1 401.4 466.3 402.9 476.6 394.6C498.1 376.9 512 350.1 512 320C512 289.9 498.1 263.1 476.5 245.5z"></path></svg>'),ha=te('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" width="20" height="20" fill="currentColor"><path d="M448 128C554 128 640 214 640 320C640 426 554 512 448 512L192 512C86 512 0 426 0 320C0 214 86 128 192 128L448 128zM192 240C178.7 240 168 250.7 168 264L168 296L136 296C122.7 296 112 306.7 112 320C112 333.3 122.7 344 136 344L168 344L168 376C168 389.3 178.7 400 192 400C205.3 400 216 389.3 216 376L216 344L248 344C261.3 344 272 333.3 272 320C272 306.7 261.3 296 248 296L216 296L216 264C216 250.7 205.3 240 192 240zM432 336C414.3 336 400 350.3 400 368C400 385.7 414.3 400 432 400C449.7 400 464 385.7 464 368C464 350.3 449.7 336 432 336zM496 240C478.3 240 464 254.3 464 272C464 289.7 478.3 304 496 304C513.7 304 528 289.7 528 272C528 254.3 513.7 240 496 240z"></path></svg>'),ma=te('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" width="20" height="20" fill="currentColor"><path d="M183.1 137.4C170.6 124.9 150.3 124.9 137.8 137.4C125.3 149.9 125.3 170.2 137.8 182.7L275.2 320L137.9 457.4C125.4 469.9 125.4 490.2 137.9 502.7C150.4 515.2 170.7 515.2 183.2 502.7L320.5 365.3L457.9 502.6C470.4 515.1 490.7 515.1 503.2 502.6C515.7 490.1 515.7 469.8 503.2 457.3L365.8 320L503.1 182.6C515.6 170.1 515.6 149.8 503.1 137.3C490.6 124.8 470.3 124.8 457.8 137.3L320.5 274.7L183.1 137.4z"></path></svg>'),pa=te('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" width="20" height="20" fill="currentColor"><path d="M183.1 137.4C170.6 124.9 150.3 124.9 137.8 137.4C125.3 149.9 125.3 170.2 137.8 182.7L275.2 320L137.9 457.4C125.4 469.9 125.4 490.2 137.9 502.7C150.4 515.2 170.7 515.2 183.2 502.7L320.5 365.3L457.9 502.6C470.4 515.1 490.7 515.1 503.2 502.6C515.7 490.1 515.7 469.8 503.2 457.3L365.8 320L503.1 182.6C515.6 170.1 515.6 149.8 503.1 137.3C490.6 124.8 470.3 124.8 457.8 137.3L320.5 274.7L183.1 137.4z"></path></svg>'),_a=te('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" width="20" height="20" fill="currentColor"><path d="M448 128C554 128 640 214 640 320C640 426 554 512 448 512L192 512C86 512 0 426 0 320C0 214 86 128 192 128L448 128zM192 240C178.7 240 168 250.7 168 264L168 296L136 296C122.7 296 112 306.7 112 320C112 333.3 122.7 344 136 344L168 344L168 376C168 389.3 178.7 400 192 400C205.3 400 216 389.3 216 376L216 344L248 344C261.3 344 272 333.3 272 320C272 306.7 261.3 296 248 296L216 296L216 264C216 250.7 205.3 240 192 240zM432 336C414.3 336 400 350.3 400 368C400 385.7 414.3 400 432 400C449.7 400 464 385.7 464 368C464 350.3 449.7 336 432 336zM496 240C478.3 240 464 254.3 464 272C464 289.7 478.3 304 496 304C513.7 304 528 289.7 528 272C528 254.3 513.7 240 496 240z"></path></svg>'),wa=te('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" width="20" height="20" fill="currentColor"><path d="M352 128C352 110.3 337.7 96 320 96C302.3 96 288 110.3 288 128L288 288L128 288C110.3 288 96 302.3 96 320C96 337.7 110.3 352 128 352L288 352L288 512C288 529.7 302.3 544 320 544C337.7 544 352 529.7 352 512L352 352L512 352C529.7 352 544 337.7 544 320C544 302.3 529.7 288 512 288L352 288L352 128z"></path></svg>'),Ca=te('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" width="20" height="20" fill="currentColor"><path d="M342.6 41.4C330.1 28.9 309.8 28.9 297.3 41.4L201.3 137.4C188.8 149.9 188.8 170.2 201.3 182.7C213.8 195.2 234.1 195.2 246.6 182.7L288 141.3L288 498.7L246.6 457.4C234.1 444.9 213.8 444.9 201.3 457.4C188.8 469.9 188.8 490.2 201.3 502.7L297.3 598.7C303.3 604.7 311.4 608.1 319.9 608.1C328.4 608.1 336.5 604.7 342.5 598.7L438.5 502.7C451 490.2 451 469.9 438.5 457.4C426 444.9 405.7 444.9 393.2 457.4L351.8 498.8L351.8 141.3L393.2 182.7C405.7 195.2 426 195.2 438.5 182.7C451 170.2 451 149.9 438.5 137.4L342.5 41.4z"></path></svg>'),ba=te('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" width="20" height="20" fill="currentColor"><path d="M232.7 69.9L224 96L128 96C110.3 96 96 110.3 96 128C96 145.7 110.3 160 128 160L512 160C529.7 160 544 145.7 544 128C544 110.3 529.7 96 512 96L416 96L407.3 69.9C402.9 56.8 390.7 48 376.9 48L263.1 48C249.3 48 237.1 56.8 232.7 69.9zM512 208L128 208L149.1 531.1C150.7 556.4 171.7 576 197 576L443 576C468.3 576 489.3 556.4 490.9 531.1L512 208z"></path></svg>'),ya=$("<!> <!> <!>",1),La=$('<div role="group"><!> <!> <!> <span class="app-name svelte-qi74x5"> </span></div>');function xa(n,e){ce(e,!0);const t=Le(),a=V(()=>e.session.session_id.startsWith("inactive_")),r=V(()=>gt(e.session.process_name));var c=La();let u;var p=F(c);Zi(p,{get volume(){return e.session.volume},get sessionId(){return e.session.session_id},get displayName(){return e.session.display_name},get disabled(){return l(a)},$$events:{dragstart:g=>t("volumedragstart",g.detail),dragmove:g=>t("volumedragmove",g.detail),dragend:g=>t("volumedragend",g.detail),trackclick:g=>t("volumetrackclick",g.detail),wheel:g=>t("volumewheel",g.detail)}});var m=j(p,2);{var w=g=>{var M=ne(),T=Y(M);{var B=C=>{pe(C,{variant:"mapping",get ariaLabel(){return`Remove mute button binding for ${e.session.display_name??""}: ${e.buttonMapping.buttonName??""}`},get title(){return`Mute Button: ${e.buttonMapping.buttonName??""}`},$$events:{remove:()=>t("removebuttonmapping",{processName:e.session.process_name})},icon:E=>{var A=ra();y(E,A)},removeIcon:E=>{var A=oa();y(E,A)},$$slots:{icon:!0,removeIcon:!0}})},v=C=>{var I=ne(),x=Y(I);{var E=k=>{pe(k,{variant:"bind",active:!0,get ariaLabel(){return`Cancel mute button binding for ${e.session.display_name??""}`},title:"Cancel Mute Binding",$$events:{cancel:()=>t("cancelbuttonbinding")},icon:N=>{var P=ca();y(N,P)},$$slots:{icon:!0}})},A=k=>{pe(k,{variant:"bind",get ariaLabel(){return`Bind hardware button to mute ${e.session.display_name??""}`},title:"Bind Mute Button",$$events:{startbind:()=>t("startbuttonbinding",{session:e.session})},icon:P=>{var K=ua();y(P,K)},hoverIcon:P=>{var K=da();y(P,K)},$$slots:{icon:!0,hoverIcon:!0}})};G(x,k=>{e.isBindingButton?k(E):k(A,!1)},!0)}y(C,I)};G(T,C=>{e.buttonMapping?C(B):C(v,!1)})}y(g,M)},S=g=>{{const M=I=>{var x=ne(),E=Y(x);{var A=O=>{var N=va();y(O,N)},k=O=>{var N=ne(),P=Y(N);{var K=q=>{var de=ga();y(q,de)},ee=q=>{var de=fa();y(q,de)};G(P,q=>{e.session.volume===1?q(K):q(ee,!1)},!0)}y(O,N)};G(E,O=>{e.session.is_muted||e.session.volume===0?O(A):O(k,!1)})}y(I,x)};let T=V(()=>!e.session.is_muted),B=V(()=>e.session.is_muted?"Unmute":"Mute"),v=V(()=>e.session.display_name),C=V(()=>e.session.is_muted?"Unmute":"Mute");pe(g,{variant:"toggle",get active(){return l(T)},get disabled(){return l(a)},get ariaLabel(){return`${l(B)??""} ${l(v)??""}`},get title(){return l(C)},$$events:{toggle:()=>t("mutetoggle",{sessionId:e.session.session_id,muted:!e.session.is_muted})},icon:M,$$slots:{icon:!0}})}};G(m,g=>{e.isEditMode?g(w):g(S,!1)})}var D=j(m,2);{var _=g=>{var M=ya(),T=Y(M);{var B=x=>{pe(x,{variant:"mapping",get ariaLabel(){return`Remove volume axis binding for ${e.session.display_name??""}: ${e.axisMapping.axisName??""}`},get title(){return`Volume Axis: ${e.axisMapping.axisName??""}`},$$events:{remove:()=>t("removeaxismapping",{processName:e.session.process_name})},icon:k=>{var O=ha();y(k,O)},removeIcon:k=>{var O=ma();y(k,O)},$$slots:{icon:!0,removeIcon:!0}})},v=x=>{var E=ne(),A=Y(E);{var k=N=>{pe(N,{variant:"bind",active:!0,get ariaLabel(){return`Cancel axis binding for ${e.session.display_name??""}`},title:"Cancel Axis Binding",$$events:{cancel:()=>t("cancelaxisbinding")},icon:K=>{var ee=pa();y(K,ee)},$$slots:{icon:!0}})},O=N=>{pe(N,{variant:"bind",get ariaLabel(){return`Bind hardware axis to control volume for ${e.session.display_name??""}`},title:"Bind Volume Axis",$$events:{startbind:()=>t("startaxisbinding",{session:e.session})},icon:ee=>{var q=_a();y(ee,q)},hoverIcon:ee=>{var q=wa();y(ee,q)},$$slots:{icon:!0,hoverIcon:!0}})};G(A,N=>{e.isBindingAxis?N(k):N(O,!1)},!0)}y(x,E)};G(T,x=>{e.axisMapping?x(B):x(v,!1)})}var C=j(T,2);{const x=N=>{var P=Ca();y(N,P)};let E=V(()=>{var N;return((N=e.axisMapping)==null?void 0:N.inverted)??!1}),A=V(()=>!e.axisMapping),k=V(()=>e.axisMapping?`${e.axisMapping.inverted?"Disable":"Enable"} axis inversion for ${e.session.display_name}`:`No axis binding for ${e.session.display_name}`),O=V(()=>e.axisMapping?"Reverse Axis Direction":"Bind an axis to enable inversion");pe(C,{variant:"toggle",get active(){return l(E)},get disabled(){return l(A)},get ariaLabel(){return l(k)},get title(){return l(O)},$$events:{toggle:()=>t("toggleinversion",{processName:e.session.process_name})},icon:x,$$slots:{icon:!0}})}var I=j(C,2);pe(I,{variant:"action",danger:!0,get ariaLabel(){return`Remove ${e.session.display_name??""} from mixer`},title:"Remove Application",$$events:{click:()=>t("removeapplication",{processName:e.session.process_name})},icon:E=>{var A=ba();y(E,A)},$$slots:{icon:!0}}),y(g,M)};G(D,g=>{e.isEditMode&&g(_)})}var z=j(D,2),L=F(z,!0);H(z),H(c),me(g=>{u=he(c,1,"application-channel svelte-qi74x5",null,u,g),Q(c,"aria-label",`Audio controls for ${e.session.display_name??""}`),Q(z,"title",e.session.display_name),Me(L,l(r))},[()=>({"has-mapping":!!e.axisMapping||!!e.buttonMapping,inactive:l(a),"inactive-edit-mode":l(a)&&e.isEditMode})]),y(n,c),ue()}function Ma(n,e){e(!e())}var Na=$('<div class="add-app-list svelte-15pdydc" role="listbox"><!></div>'),Aa=te('<svg class="add-app-icon svelte-15pdydc" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" width="24" height="24" fill="currentColor" aria-hidden="true"><path d="M352 128C352 110.3 337.7 96 320 96C302.3 96 288 110.3 288 128L288 288L128 288C110.3 288 96 302.3 96 320C96 337.7 110.3 352 128 352L288 352L288 512C288 529.7 302.3 544 320 544C337.7 544 352 529.7 352 512L352 352L512 352C529.7 352 544 337.7 544 320C544 302.3 529.7 288 512 288L352 288L352 128z"></path></svg>'),Sa=$('<div><!> <button class="btn-add-app svelte-15pdydc"><!></button></div>');function ut(n,e){ce(e,!0);let t=J(e,"expanded",15),a=J(e,"disabled",3,!1),r=J(e,"variant",3,"default"),c=J(e,"anchor",3,"left"),u=J(e,"class",3,"");var p=Sa();let m;var w=F(p);{var S=g=>{var M=Na(),T=F(M);ye(T,()=>e.children),H(M),y(g,M)};G(w,g=>{t()&&e.children&&g(S)})}var D=j(w,2);D.__click=[Ma,t];var _=F(D);{var z=g=>{var M=ne(),T=Y(M);ye(T,()=>e.expandedIcon),y(g,M)},L=g=>{var M=ne(),T=Y(M);{var B=C=>{var I=ne(),x=Y(I);ye(x,()=>e.icon),y(C,I)},v=C=>{var I=Aa();y(C,I)};G(T,C=>{e.icon?C(B):C(v,!1)},!0)}y(g,M)};G(_,g=>{t()&&e.expandedIcon?g(z):g(L,!1)})}H(D),H(p),me(g=>{m=he(p,1,`btn-add-app-container ${r()??""} anchor-${c()??""} ${u()??""}`,"svelte-15pdydc",m,g),D.disabled=a(),Q(D,"aria-label",e.ariaLabel),Q(D,"title",e.title),Q(D,"aria-expanded",t())},[()=>({expanded:t()})]),y(n,p),ue()}Ce(["click"]);function Ia(n,e){ce(e,!0);let t=J(e,"expanded",15);const a=Le();function r(c){c.detail.processName&&a("select",{processName:c.detail.processName})}{const c=w=>{var S=ne(),D=Y(S);Rt(D,17,()=>e.availableSessions,Di,(_,z,L)=>{{let g=V(()=>gt(l(z).process_name));ct(_,{get processName(){return l(z).process_name},get displayName(){return l(g)},animationIndex:L,$$events:{select:r}})}}),y(w,S)};let u=V(()=>e.availableSessions.length===0),p=V(()=>e.availableSessions.length>0?t()?"Close application list":"Add application":"No applications available"),m=V(()=>e.availableSessions.length>0?t()?"Close":"Add Application":"No applications available");ut(n,{get disabled(){return l(u)},get ariaLabel(){return l(p)},get title(){return l(m)},get expanded(){return t()},set expanded(w){t(w)},children:c,$$slots:{default:!0}})}ue()}var Ea=(n,e)=>e("cancelbuttonbinding"),za=(n,e)=>e("cancelaxisbinding"),Ba=$('<div class="application-channel add-app-column svelte-1n6eph8" role="group"><span class="app-name inactive svelte-1n6eph8"> </span> <div class="volume-bar-container svelte-1n6eph8"><input type="range" class="volume-slider svelte-1n6eph8" min="0" max="1" step="0.01" style="--volume-percent: 50%" disabled/></div> <button class="btn btn-channel btn-disabled svelte-1n6eph8" aria-label="Cancel mute binding" title="Cancel Mute Binding" type="button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" width="20" height="20" fill="currentColor"><path d="M183.1 137.4C170.6 124.9 150.3 124.9 137.8 137.4C125.3 149.9 125.3 170.2 137.8 182.7L275.2 320L137.9 457.4C125.4 469.9 125.4 490.2 137.9 502.7C150.4 515.2 170.7 515.2 183.2 502.7L320.5 365.3L457.9 502.6C470.4 515.1 490.7 515.1 503.2 502.6C515.7 490.1 515.7 469.8 503.2 457.3L365.8 320L503.1 182.6C515.6 170.1 515.6 149.8 503.1 137.3C490.6 124.8 470.3 124.8 457.8 137.3L320.5 274.7L183.1 137.4z"></path></svg></button> <button class="btn btn-channel btn-disabled svelte-1n6eph8" aria-label="Cancel axis binding" title="Cancel Axis Binding" type="button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" width="20" height="20" fill="currentColor"><path d="M183.1 137.4C170.6 124.9 150.3 124.9 137.8 137.4C125.3 149.9 125.3 170.2 137.8 182.7L275.2 320L137.9 457.4C125.4 469.9 125.4 490.2 137.9 502.7C150.4 515.2 170.7 515.2 183.2 502.7L320.5 365.3L457.9 502.6C470.4 515.1 490.7 515.1 503.2 502.6C515.7 490.1 515.7 469.8 503.2 457.3L365.8 320L503.1 182.6C515.6 170.1 515.6 149.8 503.1 137.3C490.6 124.8 470.3 124.8 457.8 137.3L320.5 274.7L183.1 137.4z"></path></svg></button></div>'),ka=$('<div class="mixer-container svelte-1n6eph8"><!> <!></div>');function Da(n,e){ce(e,!0);let t=J(e,"addAppListExpanded",15);const a=Le(),r=V(()=>e.isBindingMode&&e.pendingBinding!==null&&!e.boundSessions.some(m=>{var w;return m.process_name===((w=e.pendingBinding)==null?void 0:w.processName)}));var c=ne(),u=Y(c);{var p=m=>{var w=ka(),S=F(w);Rt(S,17,()=>e.boundSessions,z=>z.session_id,(z,L)=>{const g=V(()=>e.axisMappings.find(T=>T.processName===l(L).process_name)),M=V(()=>e.buttonMappings.find(T=>T.processName===l(L).process_name));{let T=V(()=>{var v;return e.isBindingMode&&((v=e.pendingBinding)==null?void 0:v.sessionId)===l(L).session_id}),B=V(()=>{var v;return e.isButtonBindingMode&&((v=e.pendingButtonBinding)==null?void 0:v.sessionId)===l(L).session_id});xa(z,{get session(){return l(L)},get axisMapping(){return l(g)},get buttonMapping(){return l(M)},get isEditMode(){return e.isEditMode},get isBindingAxis(){return l(T)},get isBindingButton(){return l(B)},$$events:{volumedragstart(v){ae.call(this,e,v)},volumedragmove(v){ae.call(this,e,v)},volumedragend(v){ae.call(this,e,v)},volumetrackclick(v){ae.call(this,e,v)},volumewheel(v){ae.call(this,e,v)},mutetoggle(v){ae.call(this,e,v)},startaxisbinding(v){ae.call(this,e,v)},startbuttonbinding(v){ae.call(this,e,v)},cancelaxisbinding(v){ae.call(this,e,v)},cancelbuttonbinding(v){ae.call(this,e,v)},removeaxismapping(v){ae.call(this,e,v)},removebuttonmapping(v){ae.call(this,e,v)},toggleinversion(v){ae.call(this,e,v)},removeapplication(v){ae.call(this,e,v)}}})}});var D=j(S,2);{var _=z=>{var L=ne(),g=Y(L);{var M=B=>{var v=Ba(),C=F(v),I=F(C,!0);H(C);var x=j(C,2),E=F(x);Vt(E),Ft(E,.5),H(x);var A=j(x,2);A.__click=[Ea,a];var k=j(A,2);k.__click=[za,a],H(v),me(O=>{Q(v,"aria-label",`Binding in progress for ${e.pendingBinding.sessionName??""}`),Me(I,O)},[()=>gt(e.pendingBinding.processName)]),y(B,v)},T=B=>{Ia(B,{get availableSessions(){return e.availableSessions},get expanded(){return t()},set expanded(v){t(v)},$$events:{select(v){ae.call(this,e,v)}}})};G(g,B=>{l(r)&&e.pendingBinding?B(M):B(T,!1)})}y(z,L)};G(D,z=>{e.isEditMode&&z(_)})}H(w),y(m,w)};G(u,m=>{(e.boundSessions.length>0||e.isEditMode)&&m(p)})}y(n,c),ue()}Ce(["click"]);class Qt{constructor(...e){this.type="Logical",e.length===1?"Logical"in e[0]?(this.width=e[0].Logical.width,this.height=e[0].Logical.height):(this.width=e[0].width,this.height=e[0].height):(this.width=e[0],this.height=e[1])}toPhysical(e){return new ke(this.width*e,this.height*e)}[oe](){return{width:this.width,height:this.height}}toJSON(){return this[oe]()}}class ke{constructor(...e){this.type="Physical",e.length===1?"Physical"in e[0]?(this.width=e[0].Physical.width,this.height=e[0].Physical.height):(this.width=e[0].width,this.height=e[0].height):(this.width=e[0],this.height=e[1])}toLogical(e){return new Qt(this.width/e,this.height/e)}[oe](){return{width:this.width,height:this.height}}toJSON(){return this[oe]()}}class xe{constructor(e){this.size=e}toLogical(e){return this.size instanceof Qt?this.size:this.size.toLogical(e)}toPhysical(e){return this.size instanceof ke?this.size:this.size.toPhysical(e)}[oe](){return{[`${this.size.type}`]:{width:this.size.width,height:this.size.height}}}toJSON(){return this[oe]()}}class Yt{constructor(...e){this.type="Logical",e.length===1?"Logical"in e[0]?(this.x=e[0].Logical.x,this.y=e[0].Logical.y):(this.x=e[0].x,this.y=e[0].y):(this.x=e[0],this.y=e[1])}toPhysical(e){return new be(this.x*e,this.y*e)}[oe](){return{x:this.x,y:this.y}}toJSON(){return this[oe]()}}class be{constructor(...e){this.type="Physical",e.length===1?"Physical"in e[0]?(this.x=e[0].Physical.x,this.y=e[0].Physical.y):(this.x=e[0].x,this.y=e[0].y):(this.x=e[0],this.y=e[1])}toLogical(e){return new Yt(this.x/e,this.y/e)}[oe](){return{x:this.x,y:this.y}}toJSON(){return this[oe]()}}class Je{constructor(e){this.position=e}toLogical(e){return this.position instanceof Yt?this.position:this.position.toLogical(e)}toPhysical(e){return this.position instanceof be?this.position:this.position.toPhysical(e)}[oe](){return{[`${this.position.type}`]:{x:this.position.x,y:this.position.y}}}toJSON(){return this[oe]()}}var le;(function(n){n.WINDOW_RESIZED="tauri://resize",n.WINDOW_MOVED="tauri://move",n.WINDOW_CLOSE_REQUESTED="tauri://close-requested",n.WINDOW_DESTROYED="tauri://destroyed",n.WINDOW_FOCUS="tauri://focus",n.WINDOW_BLUR="tauri://blur",n.WINDOW_SCALE_FACTOR_CHANGED="tauri://scale-change",n.WINDOW_THEME_CHANGED="tauri://theme-changed",n.WINDOW_CREATED="tauri://window-created",n.WEBVIEW_CREATED="tauri://webview-created",n.DRAG_ENTER="tauri://drag-enter",n.DRAG_OVER="tauri://drag-over",n.DRAG_DROP="tauri://drag-drop",n.DRAG_LEAVE="tauri://drag-leave"})(le||(le={}));async function Kt(n,e){window.__TAURI_EVENT_PLUGIN_INTERNALS__.unregisterListener(n,e),await d("plugin:event|unlisten",{event:n,eventId:e})}async function Zt(n,e,t){var a;const r=typeof(t==null?void 0:t.target)=="string"?{kind:"AnyLabel",label:t.target}:(a=t==null?void 0:t.target)!==null&&a!==void 0?a:{kind:"Any"};return d("plugin:event|listen",{event:n,target:r,handler:Gi(e)}).then(c=>async()=>Kt(n,c))}async function Pa(n,e,t){return Zt(n,a=>{Kt(n,a.id),e(a)},t)}async function Ta(n,e){await d("plugin:event|emit",{event:n,payload:e})}async function Ra(n,e,t){await d("plugin:event|emit_to",{target:typeof n=="string"?{kind:"AnyLabel",label:n}:n,event:e,payload:t})}class De extends qi{constructor(e){super(e)}static async new(e,t,a){return d("plugin:image|new",{rgba:Ke(e),width:t,height:a}).then(r=>new De(r))}static async fromBytes(e){return d("plugin:image|from_bytes",{bytes:Ke(e)}).then(t=>new De(t))}static async fromPath(e){return d("plugin:image|from_path",{path:e}).then(t=>new De(t))}async rgba(){return d("plugin:image|rgba",{rid:this.rid}).then(e=>new Uint8Array(e))}async size(){return d("plugin:image|size",{rid:this.rid})}}function Ke(n){return n==null?null:typeof n=="string"?n:n instanceof De?n.rid:n}var dt;(function(n){n[n.Critical=1]="Critical",n[n.Informational=2]="Informational"})(dt||(dt={}));class Oa{constructor(e){this._preventDefault=!1,this.event=e.event,this.id=e.id}preventDefault(){this._preventDefault=!0}isPreventDefault(){return this._preventDefault}}var St;(function(n){n.None="none",n.Normal="normal",n.Indeterminate="indeterminate",n.Paused="paused",n.Error="error"})(St||(St={}));function Wa(){return new ft(window.__TAURI_INTERNALS__.metadata.currentWindow.label,{skip:!0})}async function st(){return d("plugin:window|get_all_windows").then(n=>n.map(e=>new ft(e,{skip:!0})))}const lt=["tauri://created","tauri://error"];class ft{constructor(e,t={}){var a;this.label=e,this.listeners=Object.create(null),t!=null&&t.skip||d("plugin:window|create",{options:{...t,parent:typeof t.parent=="string"?t.parent:(a=t.parent)===null||a===void 0?void 0:a.label,label:e}}).then(async()=>this.emit("tauri://created")).catch(async r=>this.emit("tauri://error",r))}static async getByLabel(e){var t;return(t=(await st()).find(a=>a.label===e))!==null&&t!==void 0?t:null}static getCurrent(){return Wa()}static async getAll(){return st()}static async getFocusedWindow(){for(const e of await st())if(await e.isFocused())return e;return null}async listen(e,t){return this._handleTauriEvent(e,t)?()=>{const a=this.listeners[e];a.splice(a.indexOf(t),1)}:Zt(e,t,{target:{kind:"Window",label:this.label}})}async once(e,t){return this._handleTauriEvent(e,t)?()=>{const a=this.listeners[e];a.splice(a.indexOf(t),1)}:Pa(e,t,{target:{kind:"Window",label:this.label}})}async emit(e,t){if(lt.includes(e)){for(const a of this.listeners[e]||[])a({event:e,id:-1,payload:t});return}return Ta(e,t)}async emitTo(e,t,a){if(lt.includes(t)){for(const r of this.listeners[t]||[])r({event:t,id:-1,payload:a});return}return Ra(e,t,a)}_handleTauriEvent(e,t){return lt.includes(e)?(e in this.listeners?this.listeners[e].push(t):this.listeners[e]=[t],!0):!1}async scaleFactor(){return d("plugin:window|scale_factor",{label:this.label})}async innerPosition(){return d("plugin:window|inner_position",{label:this.label}).then(e=>new be(e))}async outerPosition(){return d("plugin:window|outer_position",{label:this.label}).then(e=>new be(e))}async innerSize(){return d("plugin:window|inner_size",{label:this.label}).then(e=>new ke(e))}async outerSize(){return d("plugin:window|outer_size",{label:this.label}).then(e=>new ke(e))}async isFullscreen(){return d("plugin:window|is_fullscreen",{label:this.label})}async isMinimized(){return d("plugin:window|is_minimized",{label:this.label})}async isMaximized(){return d("plugin:window|is_maximized",{label:this.label})}async isFocused(){return d("plugin:window|is_focused",{label:this.label})}async isDecorated(){return d("plugin:window|is_decorated",{label:this.label})}async isResizable(){return d("plugin:window|is_resizable",{label:this.label})}async isMaximizable(){return d("plugin:window|is_maximizable",{label:this.label})}async isMinimizable(){return d("plugin:window|is_minimizable",{label:this.label})}async isClosable(){return d("plugin:window|is_closable",{label:this.label})}async isVisible(){return d("plugin:window|is_visible",{label:this.label})}async title(){return d("plugin:window|title",{label:this.label})}async theme(){return d("plugin:window|theme",{label:this.label})}async isAlwaysOnTop(){return d("plugin:window|is_always_on_top",{label:this.label})}async center(){return d("plugin:window|center",{label:this.label})}async requestUserAttention(e){let t=null;return e&&(e===dt.Critical?t={type:"Critical"}:t={type:"Informational"}),d("plugin:window|request_user_attention",{label:this.label,value:t})}async setResizable(e){return d("plugin:window|set_resizable",{label:this.label,value:e})}async setEnabled(e){return d("plugin:window|set_enabled",{label:this.label,value:e})}async isEnabled(){return d("plugin:window|is_enabled",{label:this.label})}async setMaximizable(e){return d("plugin:window|set_maximizable",{label:this.label,value:e})}async setMinimizable(e){return d("plugin:window|set_minimizable",{label:this.label,value:e})}async setClosable(e){return d("plugin:window|set_closable",{label:this.label,value:e})}async setTitle(e){return d("plugin:window|set_title",{label:this.label,value:e})}async maximize(){return d("plugin:window|maximize",{label:this.label})}async unmaximize(){return d("plugin:window|unmaximize",{label:this.label})}async toggleMaximize(){return d("plugin:window|toggle_maximize",{label:this.label})}async minimize(){return d("plugin:window|minimize",{label:this.label})}async unminimize(){return d("plugin:window|unminimize",{label:this.label})}async show(){return d("plugin:window|show",{label:this.label})}async hide(){return d("plugin:window|hide",{label:this.label})}async close(){return d("plugin:window|close",{label:this.label})}async destroy(){return d("plugin:window|destroy",{label:this.label})}async setDecorations(e){return d("plugin:window|set_decorations",{label:this.label,value:e})}async setShadow(e){return d("plugin:window|set_shadow",{label:this.label,value:e})}async setEffects(e){return d("plugin:window|set_effects",{label:this.label,value:e})}async clearEffects(){return d("plugin:window|set_effects",{label:this.label,value:null})}async setAlwaysOnTop(e){return d("plugin:window|set_always_on_top",{label:this.label,value:e})}async setAlwaysOnBottom(e){return d("plugin:window|set_always_on_bottom",{label:this.label,value:e})}async setContentProtected(e){return d("plugin:window|set_content_protected",{label:this.label,value:e})}async setSize(e){return d("plugin:window|set_size",{label:this.label,value:e instanceof xe?e:new xe(e)})}async setMinSize(e){return d("plugin:window|set_min_size",{label:this.label,value:e instanceof xe?e:e?new xe(e):null})}async setMaxSize(e){return d("plugin:window|set_max_size",{label:this.label,value:e instanceof xe?e:e?new xe(e):null})}async setSizeConstraints(e){function t(a){return a?{Logical:a}:null}return d("plugin:window|set_size_constraints",{label:this.label,value:{minWidth:t(e==null?void 0:e.minWidth),minHeight:t(e==null?void 0:e.minHeight),maxWidth:t(e==null?void 0:e.maxWidth),maxHeight:t(e==null?void 0:e.maxHeight)}})}async setPosition(e){return d("plugin:window|set_position",{label:this.label,value:e instanceof Je?e:new Je(e)})}async setFullscreen(e){return d("plugin:window|set_fullscreen",{label:this.label,value:e})}async setSimpleFullscreen(e){return d("plugin:window|set_simple_fullscreen",{label:this.label,value:e})}async setFocus(){return d("plugin:window|set_focus",{label:this.label})}async setFocusable(e){return d("plugin:window|set_focusable",{label:this.label,value:e})}async setIcon(e){return d("plugin:window|set_icon",{label:this.label,value:Ke(e)})}async setSkipTaskbar(e){return d("plugin:window|set_skip_taskbar",{label:this.label,value:e})}async setCursorGrab(e){return d("plugin:window|set_cursor_grab",{label:this.label,value:e})}async setCursorVisible(e){return d("plugin:window|set_cursor_visible",{label:this.label,value:e})}async setCursorIcon(e){return d("plugin:window|set_cursor_icon",{label:this.label,value:e})}async setBackgroundColor(e){return d("plugin:window|set_background_color",{color:e})}async setCursorPosition(e){return d("plugin:window|set_cursor_position",{label:this.label,value:e instanceof Je?e:new Je(e)})}async setIgnoreCursorEvents(e){return d("plugin:window|set_ignore_cursor_events",{label:this.label,value:e})}async startDragging(){return d("plugin:window|start_dragging",{label:this.label})}async startResizeDragging(e){return d("plugin:window|start_resize_dragging",{label:this.label,value:e})}async setBadgeCount(e){return d("plugin:window|set_badge_count",{label:this.label,value:e})}async setBadgeLabel(e){return d("plugin:window|set_badge_label",{label:this.label,value:e})}async setOverlayIcon(e){return d("plugin:window|set_overlay_icon",{label:this.label,value:e?Ke(e):void 0})}async setProgressBar(e){return d("plugin:window|set_progress_bar",{label:this.label,value:e})}async setVisibleOnAllWorkspaces(e){return d("plugin:window|set_visible_on_all_workspaces",{label:this.label,value:e})}async setTitleBarStyle(e){return d("plugin:window|set_title_bar_style",{label:this.label,value:e})}async setTheme(e){return d("plugin:window|set_theme",{label:this.label,value:e})}async onResized(e){return this.listen(le.WINDOW_RESIZED,t=>{t.payload=new ke(t.payload),e(t)})}async onMoved(e){return this.listen(le.WINDOW_MOVED,t=>{t.payload=new be(t.payload),e(t)})}async onCloseRequested(e){return this.listen(le.WINDOW_CLOSE_REQUESTED,async t=>{const a=new Oa(t);await e(a),a.isPreventDefault()||await this.destroy()})}async onDragDropEvent(e){const t=await this.listen(le.DRAG_ENTER,u=>{e({...u,payload:{type:"enter",paths:u.payload.paths,position:new be(u.payload.position)}})}),a=await this.listen(le.DRAG_OVER,u=>{e({...u,payload:{type:"over",position:new be(u.payload.position)}})}),r=await this.listen(le.DRAG_DROP,u=>{e({...u,payload:{type:"drop",paths:u.payload.paths,position:new be(u.payload.position)}})}),c=await this.listen(le.DRAG_LEAVE,u=>{e({...u,payload:{type:"leave"}})});return()=>{t(),r(),a(),c()}}async onFocusChanged(e){const t=await this.listen(le.WINDOW_FOCUS,r=>{e({...r,payload:!0})}),a=await this.listen(le.WINDOW_BLUR,r=>{e({...r,payload:!1})});return()=>{t(),a()}}async onScaleChanged(e){return this.listen(le.WINDOW_SCALE_FACTOR_CHANGED,e)}async onThemeChanged(e){return this.listen(le.WINDOW_THEME_CHANGED,e)}}var It;(function(n){n.Disabled="disabled",n.Throttle="throttle",n.Suspend="suspend"})(It||(It={}));var Et;(function(n){n.Default="default",n.FluentOverlay="fluentOverlay"})(Et||(Et={}));var zt;(function(n){n.AppearanceBased="appearanceBased",n.Light="light",n.Dark="dark",n.MediumLight="mediumLight",n.UltraDark="ultraDark",n.Titlebar="titlebar",n.Selection="selection",n.Menu="menu",n.Popover="popover",n.Sidebar="sidebar",n.HeaderView="headerView",n.Sheet="sheet",n.WindowBackground="windowBackground",n.HudWindow="hudWindow",n.FullScreenUI="fullScreenUI",n.Tooltip="tooltip",n.ContentBackground="contentBackground",n.UnderWindowBackground="underWindowBackground",n.UnderPageBackground="underPageBackground",n.Mica="mica",n.Blur="blur",n.Acrylic="acrylic",n.Tabbed="tabbed",n.TabbedDark="tabbedDark",n.TabbedLight="tabbedLight"})(zt||(zt={}));var Bt;(function(n){n.FollowsWindowActiveState="followsWindowActiveState",n.Active="active",n.Inactive="inactive"})(Bt||(Bt={}));function Va(n,e){n.relatedTarget!==null&&e(!0)}function Fa(n,e,t,a,r){const c=n.relatedTarget;l(e)&&c&&l(e).contains(c)||t()||a()||r(!1)}async function Ha(n){n.preventDefault(),await d("open_url",{url:"https://github.com/CameronCarlyon/ClearComms/blob/main/GUIDE.md"})}async function Ua(n){n.preventDefault(),await d("open_url",{url:"https://github.com/CameronCarlyon/ClearComms"})}async function Ga(n,e){n.preventDefault(),e("togglewindowpinned")}var qa=te('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" width="24" height="24" fill="currentColor"><path d="M259.1 73.5C262.1 58.7 275.2 48 290.4 48L350.2 48C365.4 48 378.5 58.7 381.5 73.5L396 143.5C410.1 149.5 423.3 157.2 435.3 166.3L503.1 143.8C517.5 139 533.3 145 540.9 158.2L570.8 210C578.4 223.2 575.7 239.8 564.3 249.9L511 297.3C511.9 304.7 512.3 312.3 512.3 320C512.3 327.7 511.8 335.3 511 342.7L564.4 390.2C575.8 400.3 578.4 417 570.9 430.1L541 481.9C533.4 495 517.6 501.1 503.2 496.3L435.4 473.8C423.3 482.9 410.1 490.5 396.1 496.6L381.7 566.5C378.6 581.4 365.5 592 350.4 592L290.6 592C275.4 592 262.3 581.3 259.3 566.5L244.9 496.6C230.8 490.6 217.7 482.9 205.6 473.8L137.5 496.3C123.1 501.1 107.3 495.1 99.7 481.9L69.8 430.1C62.2 416.9 64.9 400.3 76.3 390.2L129.7 342.7C128.8 335.3 128.4 327.7 128.4 320C128.4 312.3 128.9 304.7 129.7 297.3L76.3 249.8C64.9 239.7 62.3 223 69.8 209.9L99.7 158.1C107.3 144.9 123.1 138.9 137.5 143.7L205.3 166.2C217.4 157.1 230.6 149.5 244.6 143.4L259.1 73.5zM320.3 400C364.5 399.8 400.2 363.9 400 319.7C399.8 275.5 363.9 239.8 319.7 240C275.5 240.2 239.8 276.1 240 320.3C240.2 364.5 276.1 400.2 320.3 400z"></path></svg>'),Ja=te('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" width="24" height="24" fill="currentColor"><path d="M183.1 137.4C170.6 124.9 150.3 124.9 137.8 137.4C125.3 149.9 125.3 170.2 137.8 182.7L275.2 320L137.9 457.4C125.4 469.9 125.4 490.2 137.9 502.7C150.4 515.2 170.7 515.2 183.2 502.7L320.5 365.3L457.9 502.6C470.4 515.1 490.7 515.1 503.2 502.6C515.7 490.1 515.7 469.8 503.2 457.3L365.8 320L503.1 182.6C515.6 170.1 515.6 149.8 503.1 137.3C490.6 124.8 470.3 124.8 457.8 137.3L320.5 274.7L183.1 137.4z"></path></svg>'),Qa=$('<div class="settings-container svelte-9l58tf"><button class="settings-icon-button svelte-9l58tf" aria-label="View ClearComms guide (opens in external browser)" title="User Guide" type="button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" width="25" height="25" fill="currentColor" aria-hidden="true"><path d="M224 224C224 171 267 128 320 128C373 128 416 171 416 224C416 266.7 388.1 302.9 349.5 315.4C321.1 324.6 288 350.7 288 392L288 416C288 433.7 302.3 448 320 448C337.7 448 352 433.7 352 416L352 392C352 390.3 352.6 387.9 355.5 384.7C358.5 381.4 363.4 378.2 369.2 376.3C433.5 355.6 480 295.3 480 224C480 135.6 408.4 64 320 64C231.6 64 160 135.6 160 224C160 241.7 174.3 256 192 256C209.7 256 224 241.7 224 224zM320 576C342.1 576 360 558.1 360 536C360 513.9 342.1 496 320 496C297.9 496 280 513.9 280 536C280 558.1 297.9 576 320 576z"></path></svg></button> <button class="settings-icon-button svelte-9l58tf" aria-label="Visit ClearComms repository on GitHub (opens in external browser)" title="GitHub Repository" type="button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" width="35" height="35" fill="currentColor" aria-hidden="true"><path d="M237.9 461.4C237.9 463.4 235.6 465 232.7 465C229.4 465.3 227.1 463.7 227.1 461.4C227.1 459.4 229.4 457.8 232.3 457.8C235.3 457.5 237.9 459.1 237.9 461.4zM206.8 456.9C206.1 458.9 208.1 461.2 211.1 461.8C213.7 462.8 216.7 461.8 217.3 459.8C217.9 457.8 216 455.5 213 454.6C210.4 453.9 207.5 454.9 206.8 456.9zM251 455.2C248.1 455.9 246.1 457.8 246.4 460.1C246.7 462.1 249.3 463.4 252.3 462.7C255.2 462 257.2 460.1 256.9 458.1C256.6 456.2 253.9 454.9 251 455.2zM316.8 72C178.1 72 72 177.3 72 316C72 426.9 141.8 521.8 241.5 555.2C254.3 557.5 258.8 549.6 258.8 543.1C258.8 536.9 258.5 502.7 258.5 481.7C258.5 481.7 188.5 496.7 173.8 451.9C173.8 451.9 162.4 422.8 146 415.3C146 415.3 123.1 399.6 147.6 399.9C147.6 399.9 172.5 401.9 186.2 425.7C208.1 464.3 244.8 453.2 259.1 446.6C261.4 430.6 267.9 419.5 275.1 412.9C219.2 406.7 162.8 398.6 162.8 302.4C162.8 274.9 170.4 261.1 186.4 243.5C183.8 237 175.3 210.2 189 175.6C209.9 169.1 258 202.6 258 202.6C278 197 299.5 194.1 320.8 194.1C342.1 194.1 363.6 197 383.6 202.6C383.6 202.6 431.7 169 452.6 175.6C466.3 210.3 457.8 237 455.2 243.5C471.2 261.2 481 275 481 302.4C481 398.9 422.1 406.6 366.2 412.9C375.4 420.8 383.2 435.8 383.2 459.3C383.2 493 382.9 534.7 382.9 542.9C382.9 549.4 387.5 557.3 400.2 555C500.2 521.8 568 426.9 568 316C568 177.3 455.5 72 316.8 72zM169.2 416.9C167.9 417.9 168.2 420.2 169.9 422.1C171.5 423.7 173.8 424.4 175.1 423.1C176.4 422.1 176.1 419.8 174.4 417.9C172.8 416.3 170.5 415.6 169.2 416.9zM158.4 408.8C157.7 410.1 158.7 411.7 160.7 412.7C162.3 413.7 164.3 413.4 165 412C165.7 410.7 164.7 409.1 162.7 408.1C160.7 407.5 159.1 407.8 158.4 408.8zM190.8 444.4C189.2 445.7 189.8 448.7 192.1 450.6C194.4 452.9 197.3 453.2 198.6 451.6C199.9 450.3 199.3 447.3 197.3 445.4C195.1 443.1 192.1 442.8 190.8 444.4zM179.4 429.7C177.8 430.7 177.8 433.3 179.4 435.6C181 437.9 183.7 438.9 185 437.9C186.6 436.6 186.6 434 185 431.7C183.6 429.4 181 428.4 179.4 429.7z"></path></svg></button> <button class="settings-icon-button svelte-9l58tf" type="button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" width="25" height="25" stroke-width="65" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><path d="M160 96C160 78.3 174.3 64 192 64L448 64C465.7 64 480 78.3 480 96C480 113.7 465.7 128 448 128L418.5 128L428.8 262.1C465.9 283.3 494.6 318.5 507 361.8L510.8 375.2C513.6 384.9 511.6 395.2 505.6 403.3C499.6 411.4 490 416 480 416L160 416C150 416 140.5 411.3 134.5 403.3C128.5 395.3 126.5 384.9 129.3 375.2L133 361.8C145.4 318.5 174 283.3 211.2 262.1L221.5 128L192 128C174.3 128 160 113.7 160 96zM288 464L352 464L352 576C352 593.7 337.7 608 320 608C302.3 608 288 593.7 288 576L288 464z"></path></svg></button></div>'),Ya=te('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" width="24" height="24" fill="currentColor"><path d="M416.9 85.2L372 130.1L509.9 268L554.8 223.1C568.4 209.6 576 191.2 576 172C576 152.8 568.4 134.4 554.8 120.9L519.1 85.2C505.6 71.6 487.2 64 468 64C448.8 64 430.4 71.6 416.9 85.2zM338.1 164L122.9 379.1C112.2 389.8 104.4 403.2 100.3 417.8L64.9 545.6C62.6 553.9 64.9 562.9 71.1 569C77.3 575.1 86.2 577.5 94.5 575.2L222.3 539.7C236.9 535.6 250.2 527.9 261 517.1L476 301.9L338.1 164z"></path></svg>'),Ka=te('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" width="24" height="24" fill="currentColor"><path d="M183.1 137.4C170.6 124.9 150.3 124.9 137.8 137.4C125.3 149.9 125.3 170.2 137.8 182.7L275.2 320L137.9 457.4C125.4 469.9 125.4 490.2 137.9 502.7C150.4 515.2 170.7 515.2 183.2 502.7L320.5 365.3L457.9 502.6C470.4 515.1 490.7 515.1 503.2 502.6C515.7 490.1 515.7 469.8 503.2 457.3L365.8 320L503.1 182.6C515.6 170.1 515.6 149.8 503.1 137.3C490.6 124.8 470.3 124.8 457.8 137.3L320.5 274.7L183.1 137.4z"></path></svg>'),Za=$('<span style="font-size: 0.875rem;">Return</span>'),ja=$("<!> <!>",1),Xa=$('<div role="region" aria-label="Application controls"><div><div><!></div> <div><!></div> <div><!></div></div></div>');function $a(n,e){ce(e,!0);let t=J(e,"dockOpen",15),a=J(e,"settingsMenuExpanded",15),r=J(e,"closeMenuExpanded",15);const c=Le();Be(()=>{a()&&r()&&r(!1)}),Be(()=>{r()&&a()&&a(!1)}),Be(()=>{t()||(a(!1),r(!1))});let u=U(null);async function p(){await d("quit_application")}async function m(){r(!1),a(!1),t(!1),await ft.getCurrent().hide()}var w=Xa();let S;w.__focusin=[Va,t],w.__focusout=[Fa,u,a,r,t];var D=F(w);let _;var z=F(D);let L;var g=F(z);{const x=N=>{var P=qa();y(N,P)},E=N=>{var P=Ja();y(N,P)},A=N=>{var P=Qa(),K=F(P);K.__click=[Ha];var ee=j(K,2);ee.__click=[Ua];var q=j(ee,2);q.__click=[Ga,c];var de=F(q);H(q),H(P),me(()=>{Q(q,"aria-label",e.windowPinned?"Disable pin on top":"Enable pin on top"),Q(q,"aria-pressed",e.windowPinned),Q(q,"title",e.windowPinned?"Pinned on Top":"Pin on Top"),Q(de,"fill",e.windowPinned?"currentColor":"none"),Q(de,"stroke",e.windowPinned?"none":"currentColor")}),y(N,P)};let k=V(()=>a()?"Close settings menu":"Open settings menu"),O=V(()=>a()?"Close":"Menu");ut(g,{anchor:"left",get ariaLabel(){return l(k)},get title(){return l(O)},get expanded(){return a()},set expanded(N){a(N)},icon:x,expandedIcon:E,children:A,$$slots:{icon:!0,expandedIcon:!0,default:!0}})}H(z);var M=j(z,2);let T;var B=F(M);{const x=O=>{var N=Ya();y(O,N)};let E=V(()=>!e.audioInitialised),A=V(()=>e.isEditMode?"Exit edit mode":"Enter edit mode to configure bindings"),k=V(()=>e.isEditMode?"Exit Edit Mode":"Edit Bindings");pe(B,{variant:"toggle",get active(){return e.isEditMode},get disabled(){return l(E)},get ariaLabel(){return l(A)},get title(){return l(k)},$$events:{toggle:()=>c("toggleeditmode")},icon:x,$$slots:{icon:!0}})}H(M);var v=j(M,2);let C;var I=F(v);{const x=N=>{var P=Ka();y(N,P)},E=N=>{var P=Za();y(N,P)},A=N=>{var P=ja(),K=Y(P);ct(K,{displayName:"Quit",danger:!0,fullWidth:!0,ariaLabel:"Quit the application",$$events:{select:p}});var ee=j(K,2);ct(ee,{displayName:"Minimise",fullWidth:!0,ariaLabel:"Minimise the application",$$events:{select:m}}),y(N,P)};let k=V(()=>r()?"Cancel":"Close application"),O=V(()=>r()?"Cancel":"Quit");ut(I,{anchor:"right",get ariaLabel(){return l(k)},get title(){return l(O)},get expanded(){return r()},set expanded(N){r(N)},icon:x,expandedIcon:E,children:A,$$slots:{icon:!0,expandedIcon:!0,default:!0}})}H(v),H(D),H(w),zi(w,x=>f(u,x),()=>l(u)),me((x,E,A,k,O)=>{S=he(w,1,"dock-hover-zone svelte-9l58tf",null,S,x),_=he(D,1,"dock svelte-9l58tf",null,_,E),L=he(z,1,"settings-wrapper svelte-9l58tf",null,L,A),T=he(M,1,"edit-button-wrapper svelte-9l58tf",null,T,k),C=he(v,1,"close-wrapper svelte-9l58tf",null,C,O)},[()=>({expanded:a()||r()}),()=>({open:t(),expanded:r(),"settings-expanded":a()}),()=>({expanded:a(),hidden:r()}),()=>({hidden:a()||r(),visible:t()&&!a()&&!r()}),()=>({expanded:r(),hidden:a()})]),Ye("mouseenter",w,()=>{t(!0)}),Ye("mouseleave",w,()=>{!a()&&!r()&&t(!1)}),y(n,w),ue()}Ce(["focusin","focusout","click"]);var es=$(`<div class="boot-screen svelte-1khd414" role="status" aria-live="polite"><svg class="logo svelte-1khd414" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 869.83 749.18" aria-label="ClearComms"><defs><style>.logo-fill {
          fill: var(--text-primary);
        }
        .logo-stroke {
          fill: none;
          stroke: var(--text-primary);
          stroke-linecap: round;
          stroke-linejoin: round;
          stroke-width: 60px;
        }</style></defs><g id="Soundwaves"><path class="logo-stroke" d="M576.28,475.23c15.17-30.28,23.72-64.46,23.72-100.64s-8.55-70.35-23.72-100.64"></path><path class="logo-stroke" d="M683.62,528.9c23.26-46.44,36.38-98.84,36.38-154.31s-13.11-107.88-36.38-154.31"></path><path class="logo-stroke" d="M790.84,582.51c31.34-62.56,48.99-133.18,48.99-207.92s-17.65-145.36-48.99-207.92"></path></g><path class="logo-fill" d="M494.9,546.34c-8.9-4.45-19.43-4.2-28.1.68-123.33,69.39-293.3-29.31-286.77-175.54-2.02-143.53,165.45-237.47,286.75-169.34,8.68,4.88,19.21,5.15,28.12.69l121.48-60.74c18.97-9.48,22.34-35.08,6.55-49.23C389.92-115.86-1.05,48.49,0,374.59c-1.05,326.1,389.98,490.45,622.93,281.72,15.79-14.15,12.41-39.74-6.55-49.23l-121.48-60.74Z"></path></svg> <p> </p> <!></div>`);function ts(n,e){ce(e,!0);let t=J(e,"errorMessage",3,"");const a=V(()=>e.status==="Failed");let r=U(!1);async function c(){f(r,!0);try{await d("restart_application")}catch(_){console.error("Failed to restart application:",_),f(r,!1)}}var u=es(),p=j(F(u),2);let m;var w=F(p,!0);H(p);var S=j(p,2);{var D=_=>{ia(_,{label:"Restart Application",loadingLabel:"Restarting...",get isLoading(){return l(r)},onclick:c,ariaLabel:"Restart application"})};G(S,_=>{l(a)&&_(D)})}H(u),me(_=>{m=he(p,1,"boot-status svelte-1khd414",null,m,_),Q(p,"role",l(a)?"alert":"status"),Me(w,l(a)?t():e.status)},[()=>({error:l(a)})]),y(n,u),ue()}async function ns(n){n.preventDefault(),await d("open_url",{url:"https://cameroncarlyon.com"})}var is=$(`<footer class="svelte-rbhk87"><p class="svelte-rbhk87">Crafted by <a href="https://cameroncarlyon.com" class="hyperlink svelte-rbhk87" aria-label="Visit Cameron Carlyon's website (opens in external browser)">Cameron Carlyon</a></p></footer>`);function as(n,e){ce(e,!1),Bi();var t=is(),a=F(t),r=j(F(a));r.__click=[ns],H(a),H(t),y(n,t),ue()}Ce(["click"]);var ss=$('<div class="error-banner svelte-1jgbysa" role="alert" aria-live="assertive"> </div>'),ls=$("<!> <!>",1),rs=$('<p class="status-text svelte-1jgbysa">Initialising...</p>'),os=$('<main role="application" aria-label="ClearComms" class="svelte-1jgbysa"><!> <!> <!></main>');function ms(n,e){ce(e,!0),console.log("[ClearComms] Component script loaded");let t=U(fe([])),a=U(fe([])),r=U(fe([])),c=U(fe([])),u=U(fe(new Set)),p=U(!1),m=null,w=null,S=U(!1),D=U("Initialising..."),_=U(!1),z=U(!1),L=U(!1),g=U(null),M=U(null),T=new Map,B=new Map,v=new Map,C=U(""),I=U(!1),x=U(-1),E=fe(new Map),A=fe(new Set),k=fe(new Map),O=fe(new Map),N=fe(new Map),P=fe(new Set),K=U(!1),ee=U(!1),q=U(!1),de=U(!1),je=U(!1);Be(()=>{!l(K)||l(D)!=="Ready"||l(u).size===0&&!l(I)&&f(I,!0)});const ht=200,jt=200,mt=40,Xt=.3;let Pe=!1,Ne=0,Te=0,Re=0;const we=new Map,se=new Map,ve=new Map;let Ae=null,pt=Date.now();const $t=3e5,Se=1e3;Be(()=>{let s=new Set([...l(r).map(o=>o.processName),...l(c).map(o=>o.processName),...l(u)]).size;l(I)&&s>=1&&(s+=1),l(_)&&s!==l(x)&&(f(x,s,!0),vn(s))});function en(){const i=new Set([...l(r).map(h=>h.processName),...l(c).map(h=>h.processName),...l(u)]),s=[],o=new Set;for(const h of l(a))i.has(h.process_name)&&!o.has(h.process_name)&&(s.push(h),o.add(h.process_name));const b=[...l(r),...l(c)];for(const h of b)o.has(h.processName)||(s.push({session_id:`inactive_${h.processName}`,display_name:h.sessionName,process_id:0,process_name:h.processName,volume:0,is_muted:!0}),o.add(h.processName));for(const h of l(u))if(!o.has(h)){const R=l(a).find(W=>W.process_name===h);R?s.push(R):s.push({session_id:`inactive_${h}`,display_name:h,process_id:0,process_name:h,volume:0,is_muted:!0}),o.add(h)}return s}function tn(){const i=new Set([...l(r).map(s=>s.processName),...l(c).map(s=>s.processName),...l(u)]);return l(a).filter(s=>!i.has(s.process_name))}const nn=i=>{const s=window.getComputedStyle(i);return s.visibility==="hidden"||s.display==="none"?!1:i.offsetParent!==null||i.getClientRects().length>0},an=()=>Array.from(document.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"]), [role="button"]')).filter(i=>!i.hasAttribute("disabled")&&i.getAttribute("aria-hidden")!=="true"&&nn(i)),sn=i=>{if(i.key!=="Tab"||i.defaultPrevented)return;const s=an();if(s.length===0)return;const o=s[0],b=s[s.length-1],h=document.activeElement;i.shiftKey?(h===o||h===document.body||h===null)&&(i.preventDefault(),b.focus()):(h===b||h===document.body||h===null)&&(i.preventDefault(),o.focus())};function ln(){f(I,!l(I)),l(I)||(f(ee,!1),f(q,!1))}ni(()=>{Dn(),Pn(),Tn(),tt(),rn();const i=async()=>{await tt(),l(I)&&!l(p)&&(f(I,!1),f(z,!1),f(L,!1),f(g,null),f(M,null),f(ee,!1)),f(je,!1),f(q,!1),f(de,!1)},s=()=>{f(q,!1),f(de,!1),f(ee,!1)};return window.addEventListener("blur",i),window.addEventListener("focus",s),()=>{window.removeEventListener("blur",i),window.removeEventListener("focus",s)}}),ii(()=>{console.log("[ClearComms] Component destroying, cleaning up resources..."),cn(),Bn(),Ct(),kn(),console.log("[ClearComms] Component cleanup complete")});async function rn(){try{f(D,"Initialising input system..."),await d("init_direct_input"),f(D,"Enumerating devices..."),await d("enumerate_input_devices"),f(D,"Reading axis values..."),await _t(),f(D,"Initialising audio manager...");try{await d("init_audio_manager"),f(_,!0),await Xe()}catch(i){console.warn("Audio manager failed (non-critical):",i)}f(D,"Starting real-time polling..."),on(),f(D,"Ready"),f(C,"")}catch(i){const s=`Initialisation failed: ${i}`;f(C,s),f(D,"Failed"),console.error("Initialisation error:",i)}}async function _t(){try{const i=await d("get_all_axis_values");f(t,i,!0)}catch(i){console.error("Error getting axis values:",i),f(C,`Error: ${i}`),f(t,[],!0)}}function on(){m||(f(S,!0),m=setInterval(async()=>{if(Pe){Te+=1,Te%ht===0&&console.debug(`[ClearComms] Polling skipped ${Te} times due to in-flight iteration`);return}Pe=!0;try{await _t(),await En(),await zn(),Ne+=1,Ne>1e6&&(Ne=0,Te=0),Ne%ht===0&&console.debug(`[ClearComms] Polling iteration ${Ne}; cached sessions ${l(a).length}; button cache size ${B.size}`)}catch(i){console.error("Polling error:",i)}finally{Pe=!1}},50),un(),hn())}function cn(){m&&(clearInterval(m),m=null),f(S,!1),Pe=!1,dn(),mn()}function un(){w||(w=setInterval(async()=>{try{await d("check_default_device_changed")&&console.log("Audio device changed - refreshing sessions"),await Xe()}catch(i){console.error("Audio monitoring error:",i)}},3e3))}function dn(){w&&(clearInterval(w),w=null)}async function Xe(){try{const i=await d("get_audio_sessions");for(const s of i){const o=l(a).findIndex(b=>b.session_id===s.session_id);if(o!==-1){const b=l(a)[o];P.has(s.session_id)?(s.volume=b.volume,s.is_muted=b.is_muted):A.has(s.session_id)?s.volume=b.volume:s.is_muted&&b.volume===0&&(s.volume=0)}}f(a,i,!0)}catch(i){console.error("Error getting audio sessions:",i),f(C,`Audio error: ${i}`)}}function cs(){}async function vn(i){try{await d("resize_window_to_content",{sessionCount:i})}catch(s){console.error("Error resizing window:",s)}}function Oe(i,s){if(i.startsWith("inactive_"))return;const o=l(a).findIndex(b=>b.session_id===i);o!==-1&&(l(a)[o].volume=s,l(a)[o].is_muted=s===0)}function gn(i,s){if(i.startsWith("inactive_"))return;let o=ve.get(i);o||(o={inFlight:!1,lastSent:0},ve.set(i,o)),o.queuedVolume=s;const b=()=>{const h=ve.get(i);if(!h)return;const R=h.queuedVolume;if(R===void 0||h.inFlight)return;const W=performance.now(),Z=W-h.lastSent;if(Z<mt){h.timerId!==void 0&&clearTimeout(h.timerId);const ie=Math.max(0,mt-Z);h.timerId=window.setTimeout(()=>{const ge=ve.get(i);ge&&(ge.timerId=void 0,b())},ie);return}h.inFlight=!0,h.lastSent=W,h.queuedVolume=void 0,h.timerId!==void 0&&(clearTimeout(h.timerId),h.timerId=void 0);const X=R;(async()=>{try{await d("set_session_volume",{sessionId:i,volume:X}),await d("set_session_mute",{sessionId:i,muted:X===0})}catch(ie){console.error(`Error applying live volume for ${i}:`,ie)}finally{const ie=ve.get(i);if(!ie)return;ie.inFlight=!1,b()}})()};b()}function We(i){const s=ve.get(i);s&&(s.timerId!==void 0&&clearTimeout(s.timerId),ve.delete(i))}function Ve(i){const s=k.get(i);if(!s)return;s.cancelled=!0,s.frameId!==void 0&&cancelAnimationFrame(s.frameId);const o=s.resolve;s.resolve=void 0,k.delete(i),A.delete(i),o==null||o(!1)}async function Fe(i,s,o=200){if(i.startsWith("inactive_"))return!1;const b=l(a).find(W=>W.session_id===i);if(!b)return!1;Ve(i);const h=b.volume,R=Date.now();return A.add(i),new Promise(W=>{const Z={cancelled:!1,resolve:W,frameId:void 0};k.set(i,Z);const X=()=>{if(Z.cancelled)return;const ie=Date.now()-R,ge=Math.min(ie/o,1),Ge=1-Math.pow(1-ge,3),qe=h+(s-h)*Ge;Oe(i,qe),ge<1?Z.frameId=requestAnimationFrame(X):(k.delete(i),A.delete(i),W(!0))};X()})}function fn(i,s){if(!i.startsWith("inactive_")&&(we.set(i,s),!se.has(i))){const o=()=>{const h=we.get(i);if(h===void 0){se.delete(i);return}const R=l(a).find(ge=>ge.session_id===i);if(!R){se.delete(i),we.delete(i);return}const W=R.volume,Z=h-W,X=W+Z*Xt;if(Math.abs(Z)<.001){Oe(i,h),se.delete(i),we.delete(i);return}Oe(i,X);const ie=requestAnimationFrame(o);se.set(i,ie)},b=requestAnimationFrame(o);se.set(i,b)}}function hn(){Ae||(Ae=setInterval(()=>{const i=Date.now();if(i-pt>$t&&(pn(),pt=i),T.size>Se&&(console.warn("[ClearComms] Axis cache size exceeded limit, clearing"),T.clear()),B.size>Se&&(console.warn("[ClearComms] Button cache size exceeded limit, clearing"),B.clear()),v.size>Se&&(console.warn("[ClearComms] Hardware axis cache size exceeded limit, clearing"),v.clear()),ve.size>Se&&(console.warn("[ClearComms] Live volume state cache size exceeded limit, clearing"),Ct()),we.size>Se){console.warn("[ClearComms] Hardware volume targets cache size exceeded limit, clearing");for(const[s,o]of se)cancelAnimationFrame(o);se.clear(),we.clear()}},3e4))}function mn(){Ae&&(clearInterval(Ae),Ae=null)}function pn(){const i=new Set(l(a).map(s=>s.session_id));for(const s of A)i.has(s)||A.delete(s);for(const s of P)i.has(s)||P.delete(s);for(const[s]of E)i.has(s)||E.delete(s);for(const[s,o]of se)i.has(s)||(cancelAnimationFrame(o),se.delete(s),we.delete(s));for(const[s,o]of N)i.has(s)||(cancelAnimationFrame(o),N.delete(s),O.delete(s));for(const[s]of ve)i.has(s)||We(s);console.log("[ClearComms] Periodic memory cleanup completed")}async function $e(i,s){if(!i.startsWith("inactive_"))try{await d("set_session_volume",{sessionId:i,volume:s}),await d("set_session_mute",{sessionId:i,muted:s===0}),await Xe()}catch(o){console.error("Error setting volume:",o),f(C,`Audio error: ${o}`)}}async function wt(i,s){if(!i.startsWith("inactive_"))try{const o=l(a).find(b=>b.session_id===i);if(s&&o&&o.volume>0){E.set(i,o.volume),await Fe(i,0),await d("set_session_mute",{sessionId:i,muted:!0});const b=l(a).findIndex(h=>h.session_id===i);b!==-1&&(l(a)[b].is_muted=!0,l(a)[b].volume=0)}else if(!s){const b=E.get(i)??.5;await d("set_session_volume",{sessionId:i,volume:b}),await d("set_session_mute",{sessionId:i,muted:!1});const h=l(a).findIndex(R=>R.session_id===i);h!==-1&&(l(a)[h].is_muted=!1),await Fe(i,b,200),E.delete(i)}}catch(o){console.error("Error setting mute:",o),f(C,`Audio error: ${o}`)}}function _n(i,s,o,b){f(z,!0),f(g,{sessionId:i,sessionName:s,processId:o,processName:b},!0),T.clear();for(const h of l(t))T.set(h.device_handle,{...h.axes})}function wn(){f(z,!1),f(g,null),T.clear()}function Cn(i,s,o,b){f(L,!0),f(M,{sessionId:i,sessionName:s,processId:o,processName:b},!0),B.clear();for(const h of l(t))B.set(h.device_handle,{...h.buttons})}function bn(){f(L,!1),f(M,null),B.clear()}function yn(){for(const i of l(t)){const s=T.get(i.device_handle);if(s)for(const[o,b]of Object.entries(i.axes)){const h=s[o];if(h===void 0)continue;if(Math.abs(b-h)>.05)return{deviceHandle:i.device_handle,deviceName:i.device_name,axisName:o}}}return null}function Ln(){for(const i of l(t)){const s=B.get(i.device_handle);if(s)for(const[o,b]of Object.entries(i.buttons)){const h=s[o];if(h!==void 0&&!h&&b)return{deviceHandle:i.device_handle,deviceName:i.device_name,buttonName:o}}}return null}function xn(i,s,o,b,h,R,W){f(r,l(r).filter(X=>X.processName!==W),!0);const Z={deviceHandle:i,deviceName:s,axisName:o,sessionId:b,sessionName:h,processId:R,processName:W,inverted:!1};f(r,[...l(r),Z],!0),f(u,new Set([...l(u),W]),!0),Ue(),console.log(`[ClearComms] â Mapped ${s} ${o} â ${h}`),He()}function Mn(i){const s=l(r).find(o=>o.processName===i);s&&(s.inverted=!s.inverted,f(r,[...l(r)],!0),console.log(`[ClearComms] Axis inversion ${s.inverted?"enabled":"disabled"} for ${s.sessionName}`),He())}function Nn(i){const s=l(r).find(o=>o.processName===i);s&&console.log(`[ClearComms] Removed mapping: ${s.deviceName} ${s.axisName} â ${s.sessionName}`),f(r,l(r).filter(o=>o.processName!==i),!0),He()}function An(i,s,o,b,h,R,W){f(c,l(c).filter(X=>X.processName!==W),!0);const Z={deviceHandle:i,deviceName:s,buttonName:o,sessionId:b,sessionName:h,processId:R,processName:W};f(c,[...l(c),Z],!0),f(u,new Set([...l(u),W]),!0),Ue(),console.log(`[ClearComms] â Mapped ${s} ${o} â Mute ${h}`),et()}function Sn(i){const s=l(c).find(o=>o.processName===i);s&&console.log(`[ClearComms] Removed button mapping: ${s.deviceName} ${s.buttonName} â Mute ${s.sessionName}`),f(c,l(c).filter(o=>o.processName!==i),!0),et()}function In(i){const s=l(r).find(R=>R.processName===i);s&&console.log(`[ClearComms] Removed axis mapping for ${s.sessionName}`),f(r,l(r).filter(R=>R.processName!==i),!0);const o=l(c).find(R=>R.processName===i);o&&console.log(`[ClearComms] Removed button mapping for ${o.sessionName}`),f(c,l(c).filter(R=>R.processName!==i),!0);const b=new Set(l(u));b.delete(i),f(u,b,!0),Ue(),l(u).size===0&&f(I,!1);const h=l(a).filter(R=>R.process_name===i);for(const R of h)E.delete(R.session_id),A.delete(R.session_id),P.delete(R.session_id),Ve(R.session_id);console.log(`[ClearComms] â Completely removed application: ${i}`),He(),et()}async function En(){if(l(z)&&l(g)){const i=yn();i&&(xn(i.deviceHandle,i.deviceName,i.axisName,l(g).sessionId,l(g).sessionName,l(g).processId,l(g).processName),f(z,!1),f(g,null));return}if(!(!l(_)||l(r).length===0))for(const i of l(r)){const s=l(t).find(o=>o.device_handle===i.deviceHandle);if(s&&s.axes[i.axisName]!==void 0){let o=s.axes[i.axisName];i.inverted&&(o=1-o);const b=.01;o<b?o=0:o>1-b&&(o=1);const h=`${i.deviceHandle}-${i.axisName}-${i.processName}`,R=v.get(h);if(R===void 0||Math.abs(R-o)>.01){const W=l(a).find(Z=>Z.process_name===i.processName);if(W&&!P.has(W.session_id))try{await d("set_session_volume",{sessionId:W.session_id,volume:o}),await d("set_session_mute",{sessionId:W.session_id,muted:o===0}),fn(W.session_id,o),v.set(h,o)}catch(Z){console.error(`Error applying mapping for ${i.sessionName}:`,Z)}}}}}async function zn(){var s;if(l(L)&&l(M)){const o=Ln();o&&(An(o.deviceHandle,o.deviceName,o.buttonName,l(M).sessionId,l(M).sessionName,l(M).processId,l(M).processName),f(L,!1),f(M,null));for(const b of l(t))B.set(b.device_handle,{...b.buttons});return}if(!l(_))return;const i=new Set(l(t).map(o=>o.device_handle));if(l(c).length>0)for(const o of l(c)){const b=l(t).find(h=>h.device_handle===o.deviceHandle);if(b&&b.buttons[o.buttonName]!==void 0){const h=b.buttons[o.buttonName];if(!((s=B.get(b.device_handle))==null?void 0:s[o.buttonName])&&h){const W=l(a).find(Z=>Z.process_name===o.processName);if(W){const Z=!W.is_muted;wt(W.session_id,Z)}}}}for(const o of l(t))B.set(o.device_handle,{...o.buttons});for(const o of Array.from(B.keys()))i.has(o)||B.delete(o);Re+=1,Re>1e6&&(Re=0),Re%jt===0&&console.debug(`[ClearComms] Button state cache size ${B.size}; active handles ${i.size}`)}function Bn(){for(const[i]of k)Ve(i);k.clear(),A.clear();for(const[i,s]of N)cancelAnimationFrame(s);N.clear(),O.clear();for(const[i,s]of se)cancelAnimationFrame(s);se.clear(),we.clear(),console.log("[ClearComms] All animations cleaned up")}function Ct(){for(const[i]of ve)We(i);ve.clear(),console.log("[ClearComms] Live volume states cleaned up")}function kn(){T.clear(),B.clear(),v.clear(),E.clear(),P.clear(),we.clear(),se.clear(),O.clear(),N.clear(),f(t,[],!0),f(a,[],!0),f(r,[],!0),f(c,[],!0),console.log("[ClearComms] All caches cleared")}function He(){try{localStorage.setItem("clearcomms_axis_mappings",JSON.stringify(l(r)))}catch(i){console.error("Error saving mappings:",i)}}function Dn(){try{const i=localStorage.getItem("clearcomms_axis_mappings");i&&f(r,JSON.parse(i),!0)}catch(i){console.error("Error loading mappings:",i)}}function et(){try{localStorage.setItem("clearcomms_button_mappings",JSON.stringify(l(c)))}catch(i){console.error("Error saving button mappings:",i)}}function Pn(){try{const i=localStorage.getItem("clearcomms_button_mappings");i&&f(c,JSON.parse(i),!0)}catch(i){console.error("Error loading button mappings:",i)}}function Ue(){try{localStorage.setItem("clearcomms_pinned_apps",JSON.stringify([...l(u)]))}catch(i){console.error("Error saving pinned apps:",i)}}function Tn(){try{const i=localStorage.getItem("clearcomms_pinned_apps");i&&f(u,new Set(JSON.parse(i)),!0)}catch(i){console.error("Error loading pinned apps:",i)}finally{f(K,!0)}}async function tt(){try{f(p,await d("is_window_pinned"),!0)}catch(i){console.error("Error fetching window pin state:",i)}}async function Rn(){try{await d("toggle_pin_window"),await tt()}catch(i){console.error("Error toggling window pin:",i)}}function On(i){const{sessionId:s}=i.detail;A.delete(s),P.add(s),Ve(s),We(s)}function Wn(i){const{sessionId:s,volume:o}=i.detail;Oe(s,o),gn(s,o)}async function Vn(i){const{sessionId:s,volume:o}=i.detail;await $e(s,o),P.delete(s),We(s)}async function Fn(i){const{sessionId:s,volume:o}=i.detail;await Fe(s,o,250)&&(await $e(s,o),P.delete(s))}async function Hn(i){const{sessionId:s,volume:o}=i.detail;await Fe(s,o,150)&&await $e(s,o)}function Un(i){const{sessionId:s,muted:o}=i.detail;wt(s,o)}function Gn(i){const{session:s}=i.detail;_n(s.session_id,s.display_name,s.process_id,s.process_name)}function qn(i){const{session:s}=i.detail;Cn(s.session_id,s.display_name,s.process_id,s.process_name)}function Jn(i){Nn(i.detail.processName)}function Qn(i){Sn(i.detail.processName)}function Yn(i){Mn(i.detail.processName)}function Kn(i){In(i.detail.processName)}function Zn(i){const{processName:s}=i.detail;f(u,new Set([...l(u),s]),!0),Ue(),f(ee,!1),l(I)||f(I,!0)}var bt=ne();Ye("keydown",Ei,sn);var jn=Y(bt);{var Xn=i=>{var s=os(),o=F(s);{var b=X=>{var ie=ss(),ge=F(ie,!0);H(ie),me(()=>Me(ge,l(C))),y(X,ie)};G(o,X=>{l(C)&&X(b)})}var h=j(o,2);{var R=X=>{const ie=V(en),ge=V(tn);var Ge=ls(),qe=Y(Ge);Da(qe,{get boundSessions(){return l(ie)},get availableSessions(){return l(ge)},get axisMappings(){return l(r)},get buttonMappings(){return l(c)},get isEditMode(){return l(I)},get isBindingMode(){return l(z)},get isButtonBindingMode(){return l(L)},get pendingBinding(){return l(g)},get pendingButtonBinding(){return l(M)},get addAppListExpanded(){return l(ee)},set addAppListExpanded(Ie){f(ee,Ie,!0)},$$events:{volumedragstart:On,volumedragmove:Wn,volumedragend:Vn,volumetrackclick:Fn,volumewheel:Hn,mutetoggle:Un,startaxisbinding:Gn,startbuttonbinding:qn,cancelaxisbinding:wn,cancelbuttonbinding:bn,removeaxismapping:Jn,removebuttonmapping:Qn,toggleinversion:Yn,removeapplication:Kn,select:Zn}});var ei=j(qe,2);{var ti=Ie=>{$a(Ie,{get isEditMode(){return l(I)},get audioInitialised(){return l(_)},get windowPinned(){return l(p)},get dockOpen(){return l(je)},set dockOpen(Ee){f(je,Ee,!0)},get settingsMenuExpanded(){return l(q)},set settingsMenuExpanded(Ee){f(q,Ee,!0)},get closeMenuExpanded(){return l(de)},set closeMenuExpanded(Ee){f(de,Ee,!0)},$$events:{toggleeditmode:ln,togglewindowpinned:Rn}})};G(ei,Ie=>{l(u).size>0&&Ie(ti)})}y(X,Ge)},W=X=>{var ie=rs();y(X,ie)};G(h,X=>{l(_)?X(R):X(W,!1)})}var Z=j(h,2);as(Z,{}),H(s),y(i,s)},$n=i=>{ts(i,{get status(){return l(D)},get errorMessage(){return l(C)}})};G(jn,i=>{l(D)==="Ready"?i(Xn):i($n,!1)})}y(n,bt),ue()}export{ms as component};
