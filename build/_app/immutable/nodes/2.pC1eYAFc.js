import"../chunks/Bzak7iHL.js";import{d as Me,c as Ee,e as st,s as Pe,o as ci,a as di}from"../chunks/ja3zHDMT.js";import{w as re,x as Gt,aC as ui,aD as vi,aE as gi,v as qt,C as Jt,D as lt,F as Yt,G as Kt,K as Te,U as fi,J as jt,h as s,R as mi,y as hi,H as _i,z as Bt,A as Dt,B as ut,ac as pi,ag as wi,ak as Qt,a8 as Zt,ay as Ci,aF as Tt,aG as bi,I as Xt,aH as yi,aI as vt,aJ as $t,aK as Li,aL as xi,ae as Mi,aM as Si,aj as Ni,aN as Ai,X as Ii,aO as zi,aP as Ei,aQ as ki,aR as Bi,aS as Di,p as ue,l as ee,n as J,az as j,o as Y,t as de,a as y,m as ve,V as g,aA as U,f as Z,q as $,c as ae,s as xe,aT as te,d as ze,T as ye,aU as Ti}from"../chunks/y5_wNjA4.js";import{p as q,i as Q,b as Pi}from"../chunks/DjiW6O7b.js";import{i as Oi}from"../chunks/CFDQZcIT.js";let Pt=!1;function Ri(){Pt||(Pt=!0,document.addEventListener("reset",i=>{Promise.resolve().then(()=>{var e;if(!i.defaultPrevented)for(const t of i.target.elements)(e=t.__on_r)==null||e.call(t)})},{capture:!0}))}function Wi(i,e,t){re&&Gt();var a=i,o=fi,c,d,h=null,L=ui()?vi:gi;function E(){c&&jt(c),h!==null&&(h.lastChild.remove(),a.before(h),h=null),c=d}qt(()=>{if(L(o,o=e())){var w=a,B=Kt();B&&(h=document.createDocumentFragment(),h.append(w=Jt())),d=lt(()=>t(w)),B?Yt.add_callback(E):E()}}),re&&(a=Te)}function Vi(i,e){return e}function Fi(i,e,t){for(var a=i.items,o=[],c=e.length,d=0;d<c;d++)Si(e[d].e,o,!0);var h=c>0&&o.length===0&&t!==null;if(h){var L=t.parentNode;Ni(L),L.append(t),a.clear(),we(i,e[0].prev,e[c-1].next)}Ai(o,()=>{for(var E=0;E<c;E++){var w=e[E];h||(a.delete(w.k),we(i,w.prev,w.next)),$t(w.e,!h)}})}function en(i,e,t,a,o,c=null){var d=i,h={flags:e,items:new Map,first:null};re&&Gt();var L=null,E=!1,w=new Map,B=mi(()=>{var p=t();return Zt(p)?p:p==null?[]:Qt(p)}),m,P;function A(){Hi(P,m,h,w,d,o,e,a,t),c!==null&&(m.length===0?L?Xt(L):L=lt(()=>c(d)):L!==null&&jt(L,()=>{L=null}))}qt(()=>{P??(P=Ii),m=s(B);var p=m.length;if(E&&p===0)return;E=p===0;let N=!1;if(re){var x=hi(d)===_i;x!==(p===0)&&(d=Bt(),Dt(d),ut(!1),N=!0)}if(re){for(var I=null,M,f=0;f<p;f++){if(Te.nodeType===pi&&Te.data===wi){d=Te,N=!0,ut(!1);break}var z=m[f],S=a(z,f);M=_t(Te,h,I,null,z,S,f,o,e,t),h.items.set(S,M),I=M}p>0&&Dt(Bt())}if(re)p===0&&c&&(L=lt(()=>c(d)));else if(Kt()){var O=new Set,k=Yt;for(f=0;f<p;f+=1){z=m[f],S=a(z,f);var C=h.items.get(S)??w.get(S);C?tn(C,z,f):(M=_t(null,h,null,null,z,S,f,o,e,t,!0),w.set(S,M)),O.add(S)}for(const[R,D]of h.items)O.has(R)||k.skipped_effects.add(D.e);k.add_callback(A)}else A();N&&ut(!0),s(B)}),re&&(d=Te)}function Hi(i,e,t,a,o,c,d,h,L){var E=e.length,w=t.items,B=t.first,m=B,P,A=null,p=[],N=[],x,I,M,f;for(f=0;f<E;f+=1){if(x=e[f],I=h(x,f),M=w.get(I),M===void 0){var z=a.get(I);if(z!==void 0){a.delete(I),w.set(I,z);var S=A?A.next:m;we(t,A,z),we(t,z,S),gt(z,S,o),A=z}else{var O=m?m.e.nodes_start:o;A=_t(O,t,A,A===null?t.first:A.next,x,I,f,c,d,L)}w.set(I,A),p=[],N=[],m=A.next;continue}if(tn(M,x,f),(M.e.f&vt)!==0&&Xt(M.e),M!==m){if(P!==void 0&&P.has(M)){if(p.length<N.length){var k=N[0],C;A=k.prev;var R=p[0],D=p[p.length-1];for(C=0;C<p.length;C+=1)gt(p[C],k,o);for(C=0;C<N.length;C+=1)P.delete(N[C]);we(t,R.prev,D.next),we(t,A,R),we(t,D,k),m=k,A=D,f-=1,p=[],N=[]}else P.delete(M),gt(M,m,o),we(t,M.prev,M.next),we(t,M,A===null?t.first:A.next),we(t,A,M),A=M;continue}for(p=[],N=[];m!==null&&m.k!==I;)(m.e.f&vt)===0&&(P??(P=new Set)).add(m),N.push(m),m=m.next;if(m===null)continue;M=m}p.push(M),A=M,m=M.next}if(m!==null||P!==void 0){for(var W=P===void 0?[]:Qt(P);m!==null;)(m.e.f&vt)===0&&W.push(m),m=m.next;var V=W.length;if(V>0){var T=null;Fi(t,W,T)}}i.first=t.first&&t.first.e,i.last=A&&A.e;for(var G of a.values())$t(G.e);a.clear()}function tn(i,e,t,a){bi(i.v,e),i.i=t}function _t(i,e,t,a,o,c,d,h,L,E,w){var B=(L&Li)!==0,m=(L&xi)===0,P=B?m?Ci(o,!1,!1):Tt(o):o,A=(L&yi)===0?d:Tt(d),p={i:A,v:P,k:c,a:null,e:null,prev:t,next:a};try{if(i===null){var N=document.createDocumentFragment();N.append(i=Jt())}return p.e=lt(()=>h(i,P,A,E),re),p.e.prev=t&&t.e,p.e.next=a&&a.e,t===null?w||(e.first=p):(t.next=p,t.e.next=p.e),a!==null&&(a.prev=p,a.e.prev=p.e),p}finally{}}function gt(i,e,t){for(var a=i.next?i.next.e.nodes_start:t,o=e?e.e.nodes_start:t,c=i.e.nodes_start;c!==null&&c!==a;){var d=Mi(c);o.before(c),c=d}}function we(i,e,t){e===null?i.first=t:(e.next=t,e.e.next=t&&t.e),t!==null&&(t.prev=e,t.e.prev=e&&e.e)}const Ot=[...` 	
\r\fÂ \v\uFEFF`];function Ui(i,e,t){var a=i==null?"":""+i;if(e&&(a=a?a+" "+e:e),t){for(var o in t)if(t[o])a=a?a+" "+o:o;else if(a.length)for(var c=o.length,d=0;(d=a.indexOf(o,d))>=0;){var h=d+c;(d===0||Ot.includes(a[d-1]))&&(h===a.length||Ot.includes(a[h]))?a=(d===0?"":a.substring(0,d))+a.substring(h+1):d=h}}return a===""?null:a}function Gi(i,e){return i==null?null:String(i)}function ge(i,e,t,a,o,c){var d=i.__className;if(re||d!==t||d===void 0){var h=Ui(t,a,c);(!re||h!==i.getAttribute("class"))&&(h==null?i.removeAttribute("class"):e?i.className=h:i.setAttribute("class",h)),i.__className=t}else if(c&&o!==c)for(var L in c){var E=!!c[L];(o==null||E!==!!o[L])&&i.classList.toggle(L,E)}return c}function bt(i,e,t,a){var o=i.__style;if(re||o!==e){var c=Gi(e);(!re||c!==i.getAttribute("style"))&&(c==null?i.removeAttribute("style"):i.style.cssText=c),i.__style=e}return a}const qi=Symbol("is custom element"),Ji=Symbol("is html");function nn(i){if(re){var e=!1,t=()=>{if(!e){if(e=!0,i.hasAttribute("value")){var a=i.value;X(i,"value",null),i.value=a}if(i.hasAttribute("checked")){var o=i.checked;X(i,"checked",null),i.checked=o}}};i.__on_r=t,Di(t),Ri()}}function an(i,e){var t=sn(i);t.value===(t.value=e??void 0)||i.value===e&&(e!==0||i.nodeName!=="PROGRESS")||(i.value=e??"")}function X(i,e,t,a){var o=sn(i);re&&(o[e]=i.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&i.nodeName==="LINK")||o[e]!==(o[e]=t)&&(e==="loading"&&(i[zi]=t),t==null?i.removeAttribute(e):typeof t!="string"&&Yi(i).includes(e)?i[e]=t:i.setAttribute(e,t))}function sn(i){return i.__attributes??(i.__attributes={[qi]:i.nodeName.includes("-"),[Ji]:i.namespaceURI===Ei})}var Rt=new Map;function Yi(i){var e=Rt.get(i.nodeName);if(e)return e;Rt.set(i.nodeName,e=[]);for(var t,a=i,o=Element.prototype;o!==a;){t=Bi(a);for(var c in t)t[c].set&&e.push(c);a=ki(a)}return e}function le(i,e){var c;var t=(c=i.$$events)==null?void 0:c[e.type],a=Zt(t)?t.slice():t==null?[]:[t];for(var o of a)o.call(this,e)}function Ki(i,e,t,a){if(typeof e=="function"?i!==e||!a:!e.has(i))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?a:t==="a"?a.call(i):a?a.value:e.get(i)}function ji(i,e,t,a,o){if(typeof e=="function"?i!==e||!0:!e.has(i))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(i,t),t}var it;const fe="__TAURI_TO_IPC_KEY__";function Qi(i,e=!1){return window.__TAURI_INTERNALS__.transformCallback(i,e)}async function v(i,e={},t){return window.__TAURI_INTERNALS__.invoke(i,e,t)}class Zi{get rid(){return Ki(this,it,"f")}constructor(e){it.set(this,void 0),ji(this,it,e)}async close(){return v("plugin:resources|close",{rid:this.rid})}}it=new WeakMap;var ce;(function(i){i.WINDOW_RESIZED="tauri://resize",i.WINDOW_MOVED="tauri://move",i.WINDOW_CLOSE_REQUESTED="tauri://close-requested",i.WINDOW_DESTROYED="tauri://destroyed",i.WINDOW_FOCUS="tauri://focus",i.WINDOW_BLUR="tauri://blur",i.WINDOW_SCALE_FACTOR_CHANGED="tauri://scale-change",i.WINDOW_THEME_CHANGED="tauri://theme-changed",i.WINDOW_CREATED="tauri://window-created",i.WEBVIEW_CREATED="tauri://webview-created",i.DRAG_ENTER="tauri://drag-enter",i.DRAG_OVER="tauri://drag-over",i.DRAG_DROP="tauri://drag-drop",i.DRAG_LEAVE="tauri://drag-leave"})(ce||(ce={}));async function ln(i,e){window.__TAURI_EVENT_PLUGIN_INTERNALS__.unregisterListener(i,e),await v("plugin:event|unlisten",{event:i,eventId:e})}async function yt(i,e,t){var a;const o=typeof(t==null?void 0:t.target)=="string"?{kind:"AnyLabel",label:t.target}:(a=t==null?void 0:t.target)!==null&&a!==void 0?a:{kind:"Any"};return v("plugin:event|listen",{event:i,target:o,handler:Qi(e)}).then(c=>async()=>ln(i,c))}async function Xi(i,e,t){return yt(i,a=>{ln(i,a.id),e(a)},t)}async function $i(i,e){await v("plugin:event|emit",{event:i,payload:e})}async function ea(i,e,t){await v("plugin:event|emit_to",{target:typeof i=="string"?{kind:"AnyLabel",label:i}:i,event:e,payload:t})}function ta(i,e,t,a,o,c){const d=i.currentTarget;g(e,!1),g(t,!1),g(a,o.volume,!0),c("dragstart",{sessionId:o.sessionId});try{d.setPointerCapture(i.pointerId)}catch{}}function na(i,e){i.buttons===1&&(s(e)||g(e,!0))}function ia(i,e,t,a,o){var d;const c=i.currentTarget;if(s(e)){const h=parseFloat(c.value);t("dragend",{sessionId:a.sessionId,volume:h})}if(g(e,!1),g(o,!1),(d=c.hasPointerCapture)!=null&&d.call(c,i.pointerId))try{c.releasePointerCapture(i.pointerId)}catch{}}var aa=ee('<div class="volume-bar-container svelte-vjh34r"><input type="range" class="volume-slider svelte-vjh34r" min="0" max="1" step="0.01"/></div>');function sa(i,e){ue(e,!0);let t=q(e,"disabled",3,!1);const a=Ee();let o=j(!1),c=j(!1),d=j(0);function h(B){const m=B.currentTarget,P=parseFloat(m.value);if(!(s(c)&&!s(o))){if(!s(o)){g(c,!0),m.value=s(d).toString(),a("trackclick",{sessionId:e.sessionId,volume:P});return}a("dragmove",{sessionId:e.sessionId,volume:P})}}function L(B){B.preventDefault();const m=B.deltaY>0?-.05:.05,P=Math.max(0,Math.min(1,e.volume+m));a("wheel",{sessionId:e.sessionId,volume:P})}var E=aa(),w=J(E);nn(w),X(w,"aria-valuemin",0),X(w,"aria-valuemax",100),w.__pointerdown=[ta,o,c,d,e,a],w.__pointermove=[na,o],w.__input=h,w.__pointerup=[ia,o,a,e,c],Y(E),de((B,m)=>{an(w,e.volume),X(w,"aria-label",`Volume for ${e.displayName??""}`),X(w,"aria-valuenow",B),X(w,"aria-valuetext",`${m??""} percent`),bt(w,`--volume-percent: ${e.volume*100}%`),w.disabled=t()},[()=>Math.round(e.volume*100),()=>Math.round(e.volume*100)]),st("wheel",w,L),y(i,E),ve()}Me(["pointerdown","pointermove","input","pointerup"]);function la(i,e,t,a,o){if(!e())switch(t.variant){case"toggle":a("toggle");break;case"bind":o()?a("cancel"):a("startbind");break;case"mapping":a("remove");break;case"action":a("click");break}}var ra=ee('<span class="bind-icon default svelte-18ota3u" aria-hidden="true"><!></span> <span class="bind-icon hover svelte-18ota3u" aria-hidden="true"><!></span>',1),oa=ee('<span class="mapping-icon default svelte-18ota3u" aria-hidden="true"><!></span> <span class="mapping-icon hover svelte-18ota3u" aria-hidden="true"><!></span>',1),ca=ee('<button type="button"><!></button>');function pe(i,e){ue(e,!0);let t=q(e,"active",3,!1),a=q(e,"disabled",3,!1),o=q(e,"danger",3,!1),c=q(e,"alwaysEnabled",3,!1),d=q(e,"ariaLabel",3,""),h=q(e,"title",3,"");const L=Ee(),E=U(()=>{if(a()&&e.variant!=="mapping")return"btn-unavail";switch(e.variant){case"toggle":return c()||t()?"btn-enabled":"btn-disabled";case"bind":return"btn-disabled";case"mapping":return"btn-enabled mapping-badge mapping-removable";case"action":return o()?"btn-close":"btn-disabled";default:return"btn-disabled"}});var w=ca();let B;w.__click=[la,a,e,L,t];var m=J(w);{var P=p=>{var N=ra(),x=Z(N),I=J(x);{var M=O=>{var k=ae(),C=Z(k);xe(C,()=>e.icon),y(O,k)};Q(I,O=>{e.icon&&O(M)})}Y(x);var f=$(x,2),z=J(f);{var S=O=>{var k=ae(),C=Z(k);xe(C,()=>e.hoverIcon),y(O,k)};Q(z,O=>{e.hoverIcon&&O(S)})}Y(f),y(p,N)},A=p=>{var N=ae(),x=Z(N);{var I=f=>{var z=oa(),S=Z(z),O=J(S);{var k=W=>{var V=ae(),T=Z(V);xe(T,()=>e.icon),y(W,V)};Q(O,W=>{e.icon&&W(k)})}Y(S);var C=$(S,2),R=J(C);{var D=W=>{var V=ae(),T=Z(V);xe(T,()=>e.removeIcon),y(W,V)};Q(R,W=>{e.removeIcon&&W(D)})}Y(C),y(f,z)},M=f=>{var z=ae(),S=Z(z);{var O=k=>{var C=ae(),R=Z(C);xe(R,()=>e.icon),y(k,C)};Q(S,k=>{e.icon&&k(O)})}y(f,z)};Q(x,f=>{e.variant==="mapping"?f(I):f(M,!1)},!0)}y(p,N)};Q(m,p=>{e.variant==="bind"&&!t()?p(P):p(A,!1)})}Y(w),de(p=>{B=ge(w,1,`btn btn-channel ${s(E)??""}`,"svelte-18ota3u",B,p),w.disabled=a(),X(w,"aria-label",d()),X(w,"aria-pressed",e.variant==="toggle"?t():void 0),X(w,"title",h())},[()=>({"btn-bind":e.variant==="bind"&&!t(),binding:e.variant==="bind"&&t(),active:t()&&e.variant==="toggle",button:e.variant==="mapping"})]),y(i,w),ve()}Me(["click"]);async function da(i,e,t,a){var o;e()||t()||await((o=a.onclick)==null?void 0:o.call(a))}var ua=ee("<button> </button>");function va(i,e){ue(e,!0);let t=q(e,"label",3,"Button"),a=q(e,"loadingLabel",3,"Loading..."),o=q(e,"disabled",3,!1),c=q(e,"isLoading",3,!1),d=q(e,"class",3,"");var h=ua();h.__click=[da,o,c,e];var L=J(h,!0);Y(h),de(()=>{ge(h,1,`btn-pill ${d()??""}`,"svelte-6sles4"),h.disabled=o()||c(),X(h,"aria-label",e.ariaLabel),X(h,"aria-busy",c()),Pe(L,c()?a():t())}),y(i,h),ve()}Me(["click"]);function ga(i,e,t){i.stopPropagation(),e("select",{processName:t.processName})}var fa=ee('<button role="option" aria-selected="false"> </button>');function pt(i,e){ue(e,!0);let t=q(e,"danger",3,!1),a=q(e,"fullWidth",3,!1),o=q(e,"animationIndex",3,0),c=q(e,"animationType",3,"fadeInSlide"),d=q(e,"class",3,"");const h=Ee();var L=fa();let E;L.__click=[ga,h,e];var w=J(L,!0);Y(L),de(B=>{E=ge(L,1,`list-option ${d()??""}`,"svelte-j52tkv",E,B),X(L,"aria-label",e.ariaLabel||(e.displayName?`Select ${e.displayName}`:"")),bt(L,`--animation-delay: ${o()*.05}s`),Pe(w,e.displayName||"")},[()=>({danger:t(),"full-width":a(),"fade-in":c()==="fadeIn"})]),y(i,L),ve()}Me(["click"]);function ma(i,e){var t;(t=e.onclick)==null||t.call(e,i)}var ha=ee('<button class="settings-option svelte-1ohm0h7" type="button"><!></button>');function ft(i,e){ue(e,!0);let t=q(e,"animationIndex",3,0);var a=ha();a.__click=[ma,e];var o=J(a);{var c=d=>{var h=ae(),L=Z(h);xe(L,()=>e.icon),y(d,h)};Q(o,d=>{e.icon&&d(c)})}Y(a),de(()=>{X(a,"aria-label",e.ariaLabel),X(a,"aria-pressed",e.ariaPressed),X(a,"title",e.title),bt(a,`--animation-delay: ${t()*.05}s`)}),y(i,a),ve()}Me(["click"]);const Le="__SYSTEM__",_e="__SYSTEM__",at="System";function Lt(i){if(i===_e)return at;const e={"vpilot.exe":"vPilot","couatl.exe":"GSX"},t=i.toLowerCase();if(e[t])return e[t];let a=i.replace(/\.exe$/i,"");return a=a.split(/[-_\s]/).map(o=>o.charAt(0).toUpperCase()+o.slice(1).toLowerCase()).join(" "),a}var _a=te('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" width="20" height="20" fill="currentColor" class="svelte-s4zeed"><path d="M80 416L128 416L262.1 535.2C268.5 540.9 276.7 544 285.2 544C304.4 544 320 528.4 320 509.2L320 130.8C320 111.6 304.4 96 285.2 96C276.7 96 268.5 99.1 262.1 104.8L128 224L80 224C53.5 224 32 245.5 32 272L32 368C32 394.5 53.5 416 80 416zM399 239C389.6 248.4 389.6 263.6 399 272.9L446 319.9L399 366.9C389.6 376.3 389.6 391.5 399 400.8C408.4 410.1 423.6 410.2 432.9 400.8L479.9 353.8L526.9 400.8C536.3 410.2 551.5 410.2 560.8 400.8C570.1 391.4 570.2 376.2 560.8 366.9L513.8 319.9L560.8 272.9C570.2 263.5 570.2 248.3 560.8 239C551.4 229.7 536.2 229.6 526.9 239L479.9 286L432.9 239C423.5 229.6 408.3 229.6 399 239z" class="svelte-s4zeed"></path></svg>'),pa=te('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" width="20" height="20" fill="currentColor" class="svelte-s4zeed"><path d="M183.1 137.4C170.6 124.9 150.3 124.9 137.8 137.4C125.3 149.9 125.3 170.2 137.8 182.7L275.2 320L137.9 457.4C125.4 469.9 125.4 490.2 137.9 502.7C150.4 515.2 170.7 515.2 183.2 502.7L320.5 365.3L457.9 502.6C470.4 515.1 490.7 515.1 503.2 502.6C515.7 490.1 515.7 469.8 503.2 457.3L365.8 320L503.1 182.6C515.6 170.1 515.6 149.8 503.1 137.3C490.6 124.8 470.3 124.8 457.8 137.3L320.5 274.7L183.1 137.4z" class="svelte-s4zeed"></path></svg>'),wa=te('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" width="20" height="20" fill="currentColor" class="svelte-s4zeed"><path d="M183.1 137.4C170.6 124.9 150.3 124.9 137.8 137.4C125.3 149.9 125.3 170.2 137.8 182.7L275.2 320L137.9 457.4C125.4 469.9 125.4 490.2 137.9 502.7C150.4 515.2 170.7 515.2 183.2 502.7L320.5 365.3L457.9 502.6C470.4 515.1 490.7 515.1 503.2 502.6C515.7 490.1 515.7 469.8 503.2 457.3L365.8 320L503.1 182.6C515.6 170.1 515.6 149.8 503.1 137.3C490.6 124.8 470.3 124.8 457.8 137.3L320.5 274.7L183.1 137.4z" class="svelte-s4zeed"></path></svg>'),Ca=te('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" width="20" height="20" fill="currentColor" class="svelte-s4zeed"><path d="M80 416L128 416L262.1 535.2C268.5 540.9 276.7 544 285.2 544C304.4 544 320 528.4 320 509.2L320 130.8C320 111.6 304.4 96 285.2 96C276.7 96 268.5 99.1 262.1 104.8L128 224L80 224C53.5 224 32 245.5 32 272L32 368C32 394.5 53.5 416 80 416zM399 239C389.6 248.4 389.6 263.6 399 272.9L446 319.9L399 366.9C389.6 376.3 389.6 391.5 399 400.8C408.4 410.1 423.6 410.2 432.9 400.8L479.9 353.8L526.9 400.8C536.3 410.2 551.5 410.2 560.8 400.8C570.1 391.4 570.2 376.2 560.8 366.9L513.8 319.9L560.8 272.9C570.2 263.5 570.2 248.3 560.8 239C551.4 229.7 536.2 229.6 526.9 239L479.9 286L432.9 239C423.5 229.6 408.3 229.6 399 239z" class="svelte-s4zeed"></path></svg>'),ba=te('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" width="20" height="20" fill="currentColor" class="svelte-s4zeed"><path d="M352 128C352 110.3 337.7 96 320 96C302.3 96 288 110.3 288 128L288 288L128 288C110.3 288 96 302.3 96 320C96 337.7 110.3 352 128 352L288 352L288 512C288 529.7 302.3 544 320 544C337.7 544 352 529.7 352 512L352 352L512 352C529.7 352 544 337.7 544 320C544 302.3 529.7 288 512 288L352 288L352 128z" class="svelte-s4zeed"></path></svg>'),ya=te('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" width="20" height="20" fill="currentColor" aria-hidden="true" class="svelte-s4zeed"><path d="M80 416L128 416L262.1 535.2C268.5 540.9 276.7 544 285.2 544C304.4 544 320 528.4 320 509.2L320 130.8C320 111.6 304.4 96 285.2 96C276.7 96 268.5 99.1 262.1 104.8L128 224L80 224C53.5 224 32 245.5 32 272L32 368C32 394.5 53.5 416 80 416zM399 239C389.6 248.4 389.6 263.6 399 272.9L446 319.9L399 366.9C389.6 376.3 389.6 391.5 399 400.8C408.4 410.1 423.6 410.2 432.9 400.8L479.9 353.8L526.9 400.8C536.3 410.2 551.5 410.2 560.8 400.8C570.1 391.4 570.2 376.2 560.8 366.9L513.8 319.9L560.8 272.9C570.2 263.5 570.2 248.3 560.8 239C551.4 229.7 536.2 229.6 526.9 239L479.9 286L432.9 239C423.5 229.6 408.3 229.6 399 239z" class="svelte-s4zeed"></path></svg>'),La=te('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" width="20" height="20" fill="currentColor" aria-hidden="true" class="svelte-s4zeed"><path d="M533.6 96.5C523.3 88.1 508.2 89.7 499.8 100C491.4 110.3 493 125.4 503.3 133.8C557.5 177.8 592 244.8 592 320C592 395.2 557.5 462.2 503.3 506.3C493 514.7 491.5 529.8 499.8 540.1C508.1 550.4 523.3 551.9 533.6 543.6C598.5 490.7 640 410.2 640 320C640 229.8 598.5 149.2 533.6 96.5zM473.1 171C462.8 162.6 447.7 164.2 439.3 174.5C430.9 184.8 432.5 199.9 442.8 208.3C475.3 234.7 496 274.9 496 320C496 365.1 475.3 405.3 442.8 431.8C432.5 440.2 431 455.3 439.3 465.6C447.6 475.9 462.8 477.4 473.1 469.1C516.3 433.9 544 380.2 544 320.1C544 260 516.3 206.3 473.1 171.1zM412.6 245.5C402.3 237.1 387.2 238.7 378.8 249C370.4 259.3 372 274.4 382.3 282.8C393.1 291.6 400 305 400 320C400 335 393.1 348.4 382.3 357.3C372 365.7 370.5 380.8 378.8 391.1C387.1 401.4 402.3 402.9 412.6 394.6C434.1 376.9 448 350.1 448 320C448 289.9 434.1 263.1 412.6 245.5zM80 416L128 416L262.1 535.2C268.5 540.9 276.7 544 285.2 544C304.4 544 320 528.4 320 509.2L320 130.8C320 111.6 304.4 96 285.2 96C276.7 96 268.5 99.1 262.1 104.8L128 224L80 224C53.5 224 32 245.5 32 272L32 368C32 394.5 53.5 416 80 416z" class="svelte-s4zeed"></path></svg>'),xa=te('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" width="20" height="20" fill="currentColor" aria-hidden="true" class="svelte-s4zeed"><path d="M144 416L192 416L326.1 535.2C332.5 540.9 340.7 544 349.2 544C368.4 544 384 528.4 384 509.2L384 130.8C384 111.6 368.4 96 349.2 96C340.7 96 332.5 99.1 326.1 104.8L192 224L144 224C117.5 224 96 245.5 96 272L96 368C96 394.5 117.5 416 144 416zM476.6 245.5C466.3 237.1 451.2 238.7 442.8 249C434.4 259.3 436 274.4 446.3 282.8C457.1 291.6 464 305 464 320C464 335 457.1 348.4 446.3 357.3C436 365.7 434.5 380.8 442.8 391.1C451.1 401.4 466.3 402.9 476.6 394.6C498.1 376.9 512 350.1 512 320C512 289.9 498.1 263.1 476.5 245.5z" class="svelte-s4zeed"></path></svg>'),Ma=te('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" width="20" height="20" fill="currentColor" class="svelte-s4zeed"><path d="M448 128C554 128 640 214 640 320C640 426 554 512 448 512L192 512C86 512 0 426 0 320C0 214 86 128 192 128L448 128zM192 240C178.7 240 168 250.7 168 264L168 296L136 296C122.7 296 112 306.7 112 320C112 333.3 122.7 344 136 344L168 344L168 376C168 389.3 178.7 400 192 400C205.3 400 216 389.3 216 376L216 344L248 344C261.3 344 272 333.3 272 320C272 306.7 261.3 296 248 296L216 296L216 264C216 250.7 205.3 240 192 240zM432 336C414.3 336 400 350.3 400 368C400 385.7 414.3 400 432 400C449.7 400 464 385.7 464 368C464 350.3 449.7 336 432 336zM496 240C478.3 240 464 254.3 464 272C464 289.7 478.3 304 496 304C513.7 304 528 289.7 528 272C528 254.3 513.7 240 496 240z" class="svelte-s4zeed"></path></svg>'),Sa=te('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" width="20" height="20" fill="currentColor" class="svelte-s4zeed"><path d="M183.1 137.4C170.6 124.9 150.3 124.9 137.8 137.4C125.3 149.9 125.3 170.2 137.8 182.7L275.2 320L137.9 457.4C125.4 469.9 125.4 490.2 137.9 502.7C150.4 515.2 170.7 515.2 183.2 502.7L320.5 365.3L457.9 502.6C470.4 515.1 490.7 515.1 503.2 502.6C515.7 490.1 515.7 469.8 503.2 457.3L365.8 320L503.1 182.6C515.6 170.1 515.6 149.8 503.1 137.3C490.6 124.8 470.3 124.8 457.8 137.3L320.5 274.7L183.1 137.4z" class="svelte-s4zeed"></path></svg>'),Na=te('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" width="20" height="20" fill="currentColor" class="svelte-s4zeed"><path d="M183.1 137.4C170.6 124.9 150.3 124.9 137.8 137.4C125.3 149.9 125.3 170.2 137.8 182.7L275.2 320L137.9 457.4C125.4 469.9 125.4 490.2 137.9 502.7C150.4 515.2 170.7 515.2 183.2 502.7L320.5 365.3L457.9 502.6C470.4 515.1 490.7 515.1 503.2 502.6C515.7 490.1 515.7 469.8 503.2 457.3L365.8 320L503.1 182.6C515.6 170.1 515.6 149.8 503.1 137.3C490.6 124.8 470.3 124.8 457.8 137.3L320.5 274.7L183.1 137.4z" class="svelte-s4zeed"></path></svg>'),Aa=te('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" width="20" height="20" fill="currentColor" class="svelte-s4zeed"><path d="M448 128C554 128 640 214 640 320C640 426 554 512 448 512L192 512C86 512 0 426 0 320C0 214 86 128 192 128L448 128zM192 240C178.7 240 168 250.7 168 264L168 296L136 296C122.7 296 112 306.7 112 320C112 333.3 122.7 344 136 344L168 344L168 376C168 389.3 178.7 400 192 400C205.3 400 216 389.3 216 376L216 344L248 344C261.3 344 272 333.3 272 320C272 306.7 261.3 296 248 296L216 296L216 264C216 250.7 205.3 240 192 240zM432 336C414.3 336 400 350.3 400 368C400 385.7 414.3 400 432 400C449.7 400 464 385.7 464 368C464 350.3 449.7 336 432 336zM496 240C478.3 240 464 254.3 464 272C464 289.7 478.3 304 496 304C513.7 304 528 289.7 528 272C528 254.3 513.7 240 496 240z" class="svelte-s4zeed"></path></svg>'),Ia=te('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" width="20" height="20" fill="currentColor" class="svelte-s4zeed"><path d="M352 128C352 110.3 337.7 96 320 96C302.3 96 288 110.3 288 128L288 288L128 288C110.3 288 96 302.3 96 320C96 337.7 110.3 352 128 352L288 352L288 512C288 529.7 302.3 544 320 544C337.7 544 352 529.7 352 512L352 352L512 352C529.7 352 544 337.7 544 320C544 302.3 529.7 288 512 288L352 288L352 128z" class="svelte-s4zeed"></path></svg>'),za=te('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" width="20" height="20" fill="currentColor"><path d="M342.6 41.4C330.1 28.9 309.8 28.9 297.3 41.4L201.3 137.4C188.8 149.9 188.8 170.2 201.3 182.7C213.8 195.2 234.1 195.2 246.6 182.7L288 141.3L288 498.7L246.6 457.4C234.1 444.9 213.8 444.9 201.3 457.4C188.8 469.9 188.8 490.2 201.3 502.7L297.3 598.7C303.3 604.7 311.4 608.1 319.9 608.1C328.4 608.1 336.5 604.7 342.5 598.7L438.5 502.7C451 490.2 451 469.9 438.5 457.4C426 444.9 405.7 444.9 393.2 457.4L351.8 498.8L351.8 141.3L393.2 182.7C405.7 195.2 426 195.2 438.5 182.7C451 170.2 451 149.9 438.5 137.4L342.5 41.4z" class="svelte-s4zeed"></path></svg>'),Ea=te('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" width="20" height="20" fill="currentColor" class="svelte-s4zeed"><path d="M232.7 69.9L224 96L128 96C110.3 96 96 110.3 96 128C96 145.7 110.3 160 128 160L512 160C529.7 160 544 145.7 544 128C544 110.3 529.7 96 512 96L416 96L407.3 69.9C402.9 56.8 390.7 48 376.9 48L263.1 48C249.3 48 237.1 56.8 232.7 69.9zM512 208L128 208L149.1 531.1C150.7 556.4 171.7 576 197 576L443 576C468.3 576 489.3 556.4 490.9 531.1L512 208z" class="svelte-s4zeed"></path></svg>'),ka=ee("<!> <!> <!>",1),Ba=ee('<div role="group"><!> <!> <!> <span class="app-name svelte-s4zeed"> </span></div>');function Da(i,e){ue(e,!0);const t=Ee(),a=U(()=>e.session.session_id.startsWith("inactive_")),o=U(()=>Lt(e.session.process_name));let c=j(!1);function d(){g(c,!0),t("toggleinversion",{processName:e.session.process_name}),setTimeout(()=>{g(c,!1)},400)}var h=Ba();let L;var E=J(h);sa(E,{get volume(){return e.session.volume},get sessionId(){return e.session.session_id},get displayName(){return e.session.display_name},get disabled(){return s(a)},$$events:{dragstart:x=>t("volumedragstart",x.detail),dragmove:x=>t("volumedragmove",x.detail),dragend:x=>t("volumedragend",x.detail),trackclick:x=>t("volumetrackclick",x.detail),wheel:x=>t("volumewheel",x.detail)}});var w=$(E,2);{var B=x=>{var I=ae(),M=Z(I);{var f=S=>{pe(S,{variant:"mapping",get ariaLabel(){return`Remove mute button binding for ${e.session.display_name??""}: ${e.buttonMapping.buttonName??""}`},get title(){return`Mute Button: ${e.buttonMapping.buttonName??""}`},$$events:{remove:()=>t("removebuttonmapping",{processName:e.session.process_name})},icon:C=>{var R=_a();y(C,R)},removeIcon:C=>{var R=pa();y(C,R)},$$slots:{icon:!0,removeIcon:!0}})},z=S=>{var O=ae(),k=Z(O);{var C=D=>{pe(D,{variant:"bind",active:!0,get ariaLabel(){return`Cancel mute button binding for ${e.session.display_name??""}`},title:"Cancel Mute Binding",$$events:{cancel:()=>t("cancelbuttonbinding")},icon:V=>{var T=wa();y(V,T)},$$slots:{icon:!0}})},R=D=>{pe(D,{variant:"bind",get ariaLabel(){return`Bind hardware button to mute ${e.session.display_name??""}`},title:"Bind Mute Button",$$events:{startbind:()=>t("startbuttonbinding",{session:e.session})},icon:T=>{var G=Ca();y(T,G)},hoverIcon:T=>{var G=ba();y(T,G)},$$slots:{icon:!0,hoverIcon:!0}})};Q(k,D=>{e.isBindingButton?D(C):D(R,!1)},!0)}y(S,O)};Q(M,S=>{e.buttonMapping?S(f):S(z,!1)})}y(x,I)},m=x=>{{const I=O=>{var k=ae(),C=Z(k);{var R=W=>{var V=ya();y(W,V)},D=W=>{var V=ae(),T=Z(V);{var G=ie=>{var Se=La();y(ie,Se)},ne=ie=>{var Se=xa();y(ie,Se)};Q(T,ie=>{e.session.volume===1?ie(G):ie(ne,!1)},!0)}y(W,V)};Q(C,W=>{e.session.is_muted||e.session.volume===0?W(R):W(D,!1)})}y(O,k)};let M=U(()=>!e.session.is_muted),f=U(()=>e.session.is_muted?"Unmute":"Mute"),z=U(()=>e.session.display_name),S=U(()=>e.session.is_muted?"Unmute":"Mute");pe(x,{variant:"toggle",get active(){return s(M)},get disabled(){return s(a)},get ariaLabel(){return`${s(f)??""} ${s(z)??""}`},get title(){return s(S)},$$events:{toggle:()=>t("mutetoggle",{sessionId:e.session.session_id,muted:!e.session.is_muted})},icon:I,$$slots:{icon:!0}})}};Q(w,x=>{e.isEditMode?x(B):x(m,!1)})}var P=$(w,2);{var A=x=>{var I=ka(),M=Z(I);{var f=k=>{pe(k,{variant:"mapping",get ariaLabel(){return`Remove volume axis binding for ${e.session.display_name??""}: ${e.axisMapping.axisName??""}`},get title(){return`Volume Axis: ${e.axisMapping.axisName??""}`},$$events:{remove:()=>t("removeaxismapping",{processName:e.session.process_name})},icon:D=>{var W=Ma();y(D,W)},removeIcon:D=>{var W=Sa();y(D,W)},$$slots:{icon:!0,removeIcon:!0}})},z=k=>{var C=ae(),R=Z(C);{var D=V=>{pe(V,{variant:"bind",active:!0,get ariaLabel(){return`Cancel axis binding for ${e.session.display_name??""}`},title:"Cancel Axis Binding",$$events:{cancel:()=>t("cancelaxisbinding")},icon:G=>{var ne=Na();y(G,ne)},$$slots:{icon:!0}})},W=V=>{pe(V,{variant:"bind",get ariaLabel(){return`Bind hardware axis to control volume for ${e.session.display_name??""}`},title:"Bind Volume Axis",$$events:{startbind:()=>t("startaxisbinding",{session:e.session})},icon:ne=>{var ie=Aa();y(ne,ie)},hoverIcon:ne=>{var ie=Ia();y(ne,ie)},$$slots:{icon:!0,hoverIcon:!0}})};Q(R,V=>{e.isBindingAxis?V(D):V(W,!1)},!0)}y(k,C)};Q(M,k=>{e.axisMapping?k(f):k(z,!1)})}var S=$(M,2);{const k=T=>{var G=za();let ne;de(ie=>ne=ge(G,0,"svelte-s4zeed",null,ne,ie),[()=>({"flip-animate":s(c)})]),y(T,G)};let C=U(()=>{var T;return((T=e.axisMapping)==null?void 0:T.inverted)??!1}),R=U(()=>!e.axisMapping),D=U(()=>!!e.axisMapping),W=U(()=>e.axisMapping?`${e.axisMapping.inverted?"Disable":"Enable"} axis inversion for ${e.session.display_name}`:`No axis binding for ${e.session.display_name}`),V=U(()=>e.axisMapping?"Reverse Axis Direction":"Bind an axis to enable inversion");pe(S,{variant:"toggle",get active(){return s(C)},get disabled(){return s(R)},get alwaysEnabled(){return s(D)},get ariaLabel(){return s(W)},get title(){return s(V)},$$events:{toggle:d},icon:k,$$slots:{icon:!0}})}var O=$(S,2);pe(O,{variant:"action",danger:!0,get ariaLabel(){return`Remove ${e.session.display_name??""} from mixer`},title:"Remove Application",$$events:{click:()=>t("removeapplication",{processName:e.session.process_name})},icon:C=>{var R=Ea();y(C,R)},$$slots:{icon:!0}}),y(x,I)};Q(P,x=>{e.isEditMode&&x(A)})}var p=$(P,2),N=J(p,!0);Y(p),Y(h),de(x=>{L=ge(h,1,"application-channel svelte-s4zeed",null,L,x),X(h,"aria-label",`Audio controls for ${e.session.display_name??""}`),X(p,"title",e.session.display_name),Pe(N,s(o))},[()=>({"has-mapping":!!e.axisMapping||!!e.buttonMapping,inactive:s(a),"inactive-edit-mode":s(a)&&e.isEditMode})]),y(i,h),ve()}function Ta(i,e){e(!e())}var Pa=ee('<div class="btn-expandable__list svelte-rxf9ad" role="listbox"><!></div>'),Oa=te('<svg class="btn-expandable__icon svelte-rxf9ad" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" width="24" height="24" fill="currentColor" aria-hidden="true"><path d="M352 128C352 110.3 337.7 96 320 96C302.3 96 288 110.3 288 128L288 288L128 288C110.3 288 96 302.3 96 320C96 337.7 110.3 352 128 352L288 352L288 512C288 529.7 302.3 544 320 544C337.7 544 352 529.7 352 512L352 352L512 352C529.7 352 544 337.7 544 320C544 302.3 529.7 288 512 288L352 288L352 128z"></path></svg>'),Ra=ee('<div><!> <button class="btn-expandable__trigger svelte-rxf9ad"><!></button></div>');function wt(i,e){ue(e,!0);let t=q(e,"expanded",15),a=q(e,"disabled",3,!1),o=q(e,"variant",3,"default"),c=q(e,"anchor",3,"left"),d=q(e,"onboarding",3,!1),h=q(e,"class",3,"");var L=Ra();let E;var w=J(L);{var B=N=>{var x=Pa(),I=J(x);xe(I,()=>e.children),Y(x),y(N,x)};Q(w,N=>{t()&&e.children&&N(B)})}var m=$(w,2);m.__click=[Ta,t];var P=J(m);{var A=N=>{var x=ae(),I=Z(x);xe(I,()=>e.expandedIcon),y(N,x)},p=N=>{var x=ae(),I=Z(x);{var M=z=>{var S=ae(),O=Z(S);xe(O,()=>e.icon),y(z,S)},f=z=>{var S=Oa();y(z,S)};Q(I,z=>{e.icon?z(M):z(f,!1)},!0)}y(N,x)};Q(P,N=>{t()&&e.expandedIcon?N(A):N(p,!1)})}Y(m),Y(L),de(N=>{E=ge(L,1,`btn-expandable ${o()??""} anchor-${c()??""} ${h()??""}`,"svelte-rxf9ad",E,N),m.disabled=a(),X(m,"aria-label",e.ariaLabel),X(m,"title",e.title),X(m,"aria-expanded",t())},[()=>({expanded:t(),onboarding:d()})]),y(i,L),ve()}Me(["click"]);function Wa(i,e){ue(e,!0);let t=q(e,"expanded",15),a=q(e,"onboarding",3,!1);const o=Ee();function c(d){d.detail.processName&&o("select",{processName:d.detail.processName})}{const d=w=>{var B=ae(),m=Z(B);en(m,17,()=>e.availableSessions,Vi,(P,A,p)=>{{let N=U(()=>Lt(s(A).process_name));pt(P,{get processName(){return s(A).process_name},get displayName(){return s(N)},animationIndex:p,$$events:{select:c}})}}),y(w,B)};let h=U(()=>e.availableSessions.length===0),L=U(()=>e.availableSessions.length>0?t()?"Close application list":"Add application":"No applications available"),E=U(()=>e.availableSessions.length>0?t()?"Close":"Add Application":"No applications available");wt(i,{get onboarding(){return a()},get disabled(){return s(h)},get ariaLabel(){return s(L)},get title(){return s(E)},get expanded(){return t()},set expanded(w){t(w)},children:d,$$slots:{default:!0}})}ve()}var Va=(i,e)=>e("cancelbuttonbinding"),Fa=(i,e)=>e("cancelaxisbinding"),Ha=ee('<div class="application-channel add-app-column svelte-1n6eph8" role="group"><span class="app-name inactive svelte-1n6eph8"> </span> <div class="volume-bar-container svelte-1n6eph8"><input type="range" class="volume-slider svelte-1n6eph8" min="0" max="1" step="0.01" style="--volume-percent: 50%" disabled/></div> <button class="btn btn-channel btn-disabled svelte-1n6eph8" aria-label="Cancel mute binding" title="Cancel Mute Binding" type="button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" width="20" height="20" fill="currentColor"><path d="M183.1 137.4C170.6 124.9 150.3 124.9 137.8 137.4C125.3 149.9 125.3 170.2 137.8 182.7L275.2 320L137.9 457.4C125.4 469.9 125.4 490.2 137.9 502.7C150.4 515.2 170.7 515.2 183.2 502.7L320.5 365.3L457.9 502.6C470.4 515.1 490.7 515.1 503.2 502.6C515.7 490.1 515.7 469.8 503.2 457.3L365.8 320L503.1 182.6C515.6 170.1 515.6 149.8 503.1 137.3C490.6 124.8 470.3 124.8 457.8 137.3L320.5 274.7L183.1 137.4z"></path></svg></button> <button class="btn btn-channel btn-disabled svelte-1n6eph8" aria-label="Cancel axis binding" title="Cancel Axis Binding" type="button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" width="20" height="20" fill="currentColor"><path d="M183.1 137.4C170.6 124.9 150.3 124.9 137.8 137.4C125.3 149.9 125.3 170.2 137.8 182.7L275.2 320L137.9 457.4C125.4 469.9 125.4 490.2 137.9 502.7C150.4 515.2 170.7 515.2 183.2 502.7L320.5 365.3L457.9 502.6C470.4 515.1 490.7 515.1 503.2 502.6C515.7 490.1 515.7 469.8 503.2 457.3L365.8 320L503.1 182.6C515.6 170.1 515.6 149.8 503.1 137.3C490.6 124.8 470.3 124.8 457.8 137.3L320.5 274.7L183.1 137.4z"></path></svg></button></div>'),Ua=ee('<div class="mixer-container svelte-1n6eph8"><!> <!></div>');function Ga(i,e){ue(e,!0);let t=q(e,"addAppListExpanded",15),a=U(()=>e.boundSessions.length===0);const o=Ee(),c=U(()=>e.isBindingMode&&e.pendingBinding!==null&&!e.boundSessions.some(E=>{var w;return E.process_name===((w=e.pendingBinding)==null?void 0:w.processName)}));var d=ae(),h=Z(d);{var L=E=>{var w=Ua(),B=J(w);en(B,17,()=>e.boundSessions,A=>A.session_id,(A,p)=>{const N=U(()=>e.axisMappings.find(I=>I.processName===s(p).process_name)),x=U(()=>e.buttonMappings.find(I=>I.processName===s(p).process_name));{let I=U(()=>{var f;return e.isBindingMode&&((f=e.pendingBinding)==null?void 0:f.sessionId)===s(p).session_id}),M=U(()=>{var f;return e.isButtonBindingMode&&((f=e.pendingButtonBinding)==null?void 0:f.sessionId)===s(p).session_id});Da(A,{get session(){return s(p)},get axisMapping(){return s(N)},get buttonMapping(){return s(x)},get isEditMode(){return e.isEditMode},get isBindingAxis(){return s(I)},get isBindingButton(){return s(M)},$$events:{volumedragstart(f){le.call(this,e,f)},volumedragmove(f){le.call(this,e,f)},volumedragend(f){le.call(this,e,f)},volumetrackclick(f){le.call(this,e,f)},volumewheel(f){le.call(this,e,f)},mutetoggle(f){le.call(this,e,f)},startaxisbinding(f){le.call(this,e,f)},startbuttonbinding(f){le.call(this,e,f)},cancelaxisbinding(f){le.call(this,e,f)},cancelbuttonbinding(f){le.call(this,e,f)},removeaxismapping(f){le.call(this,e,f)},removebuttonmapping(f){le.call(this,e,f)},toggleinversion(f){le.call(this,e,f)},removeapplication(f){le.call(this,e,f)}}})}});var m=$(B,2);{var P=A=>{var p=ae(),N=Z(p);{var x=M=>{var f=Ha(),z=J(f),S=J(z,!0);Y(z);var O=$(z,2),k=J(O);nn(k),an(k,.5),Y(O);var C=$(O,2);C.__click=[Va,o];var R=$(C,2);R.__click=[Fa,o],Y(f),de(D=>{X(f,"aria-label",`Binding in progress for ${e.pendingBinding.sessionName??""}`),Pe(S,D)},[()=>Lt(e.pendingBinding.processName)]),y(M,f)},I=M=>{var f=ae(),z=Z(f);Wi(z,()=>e.addAppComponentKey,S=>{Wa(S,{get availableSessions(){return e.availableSessions},get onboarding(){return s(a)},get expanded(){return t()},set expanded(O){t(O)},$$events:{select(O){le.call(this,e,O)}}})}),y(M,f)};Q(N,M=>{s(c)&&e.pendingBinding?M(x):M(I,!1)})}y(A,p)};Q(m,A=>{e.isEditMode&&A(P)})}Y(w),y(E,w)};Q(h,E=>{(e.boundSessions.length>0||e.isEditMode)&&E(L)})}y(i,d),ve()}Me(["click"]);class rn{constructor(...e){this.type="Logical",e.length===1?"Logical"in e[0]?(this.width=e[0].Logical.width,this.height=e[0].Logical.height):(this.width=e[0].width,this.height=e[0].height):(this.width=e[0],this.height=e[1])}toPhysical(e){return new qe(this.width*e,this.height*e)}[fe](){return{width:this.width,height:this.height}}toJSON(){return this[fe]()}}class qe{constructor(...e){this.type="Physical",e.length===1?"Physical"in e[0]?(this.width=e[0].Physical.width,this.height=e[0].Physical.height):(this.width=e[0].width,this.height=e[0].height):(this.width=e[0],this.height=e[1])}toLogical(e){return new rn(this.width/e,this.height/e)}[fe](){return{width:this.width,height:this.height}}toJSON(){return this[fe]()}}class De{constructor(e){this.size=e}toLogical(e){return this.size instanceof rn?this.size:this.size.toLogical(e)}toPhysical(e){return this.size instanceof qe?this.size:this.size.toPhysical(e)}[fe](){return{[`${this.size.type}`]:{width:this.size.width,height:this.size.height}}}toJSON(){return this[fe]()}}class on{constructor(...e){this.type="Logical",e.length===1?"Logical"in e[0]?(this.x=e[0].Logical.x,this.y=e[0].Logical.y):(this.x=e[0].x,this.y=e[0].y):(this.x=e[0],this.y=e[1])}toPhysical(e){return new Ae(this.x*e,this.y*e)}[fe](){return{x:this.x,y:this.y}}toJSON(){return this[fe]()}}class Ae{constructor(...e){this.type="Physical",e.length===1?"Physical"in e[0]?(this.x=e[0].Physical.x,this.y=e[0].Physical.y):(this.x=e[0].x,this.y=e[0].y):(this.x=e[0],this.y=e[1])}toLogical(e){return new on(this.x/e,this.y/e)}[fe](){return{x:this.x,y:this.y}}toJSON(){return this[fe]()}}class nt{constructor(e){this.position=e}toLogical(e){return this.position instanceof on?this.position:this.position.toLogical(e)}toPhysical(e){return this.position instanceof Ae?this.position:this.position.toPhysical(e)}[fe](){return{[`${this.position.type}`]:{x:this.position.x,y:this.position.y}}}toJSON(){return this[fe]()}}class Je extends Zi{constructor(e){super(e)}static async new(e,t,a){return v("plugin:image|new",{rgba:rt(e),width:t,height:a}).then(o=>new Je(o))}static async fromBytes(e){return v("plugin:image|from_bytes",{bytes:rt(e)}).then(t=>new Je(t))}static async fromPath(e){return v("plugin:image|from_path",{path:e}).then(t=>new Je(t))}async rgba(){return v("plugin:image|rgba",{rid:this.rid}).then(e=>new Uint8Array(e))}async size(){return v("plugin:image|size",{rid:this.rid})}}function rt(i){return i==null?null:typeof i=="string"?i:i instanceof Je?i.rid:i}var Ct;(function(i){i[i.Critical=1]="Critical",i[i.Informational=2]="Informational"})(Ct||(Ct={}));class qa{constructor(e){this._preventDefault=!1,this.event=e.event,this.id=e.id}preventDefault(){this._preventDefault=!0}isPreventDefault(){return this._preventDefault}}var Wt;(function(i){i.None="none",i.Normal="normal",i.Indeterminate="indeterminate",i.Paused="paused",i.Error="error"})(Wt||(Wt={}));function Ja(){return new xt(window.__TAURI_INTERNALS__.metadata.currentWindow.label,{skip:!0})}async function mt(){return v("plugin:window|get_all_windows").then(i=>i.map(e=>new xt(e,{skip:!0})))}const ht=["tauri://created","tauri://error"];class xt{constructor(e,t={}){var a;this.label=e,this.listeners=Object.create(null),t!=null&&t.skip||v("plugin:window|create",{options:{...t,parent:typeof t.parent=="string"?t.parent:(a=t.parent)===null||a===void 0?void 0:a.label,label:e}}).then(async()=>this.emit("tauri://created")).catch(async o=>this.emit("tauri://error",o))}static async getByLabel(e){var t;return(t=(await mt()).find(a=>a.label===e))!==null&&t!==void 0?t:null}static getCurrent(){return Ja()}static async getAll(){return mt()}static async getFocusedWindow(){for(const e of await mt())if(await e.isFocused())return e;return null}async listen(e,t){return this._handleTauriEvent(e,t)?()=>{const a=this.listeners[e];a.splice(a.indexOf(t),1)}:yt(e,t,{target:{kind:"Window",label:this.label}})}async once(e,t){return this._handleTauriEvent(e,t)?()=>{const a=this.listeners[e];a.splice(a.indexOf(t),1)}:Xi(e,t,{target:{kind:"Window",label:this.label}})}async emit(e,t){if(ht.includes(e)){for(const a of this.listeners[e]||[])a({event:e,id:-1,payload:t});return}return $i(e,t)}async emitTo(e,t,a){if(ht.includes(t)){for(const o of this.listeners[t]||[])o({event:t,id:-1,payload:a});return}return ea(e,t,a)}_handleTauriEvent(e,t){return ht.includes(e)?(e in this.listeners?this.listeners[e].push(t):this.listeners[e]=[t],!0):!1}async scaleFactor(){return v("plugin:window|scale_factor",{label:this.label})}async innerPosition(){return v("plugin:window|inner_position",{label:this.label}).then(e=>new Ae(e))}async outerPosition(){return v("plugin:window|outer_position",{label:this.label}).then(e=>new Ae(e))}async innerSize(){return v("plugin:window|inner_size",{label:this.label}).then(e=>new qe(e))}async outerSize(){return v("plugin:window|outer_size",{label:this.label}).then(e=>new qe(e))}async isFullscreen(){return v("plugin:window|is_fullscreen",{label:this.label})}async isMinimized(){return v("plugin:window|is_minimized",{label:this.label})}async isMaximized(){return v("plugin:window|is_maximized",{label:this.label})}async isFocused(){return v("plugin:window|is_focused",{label:this.label})}async isDecorated(){return v("plugin:window|is_decorated",{label:this.label})}async isResizable(){return v("plugin:window|is_resizable",{label:this.label})}async isMaximizable(){return v("plugin:window|is_maximizable",{label:this.label})}async isMinimizable(){return v("plugin:window|is_minimizable",{label:this.label})}async isClosable(){return v("plugin:window|is_closable",{label:this.label})}async isVisible(){return v("plugin:window|is_visible",{label:this.label})}async title(){return v("plugin:window|title",{label:this.label})}async theme(){return v("plugin:window|theme",{label:this.label})}async isAlwaysOnTop(){return v("plugin:window|is_always_on_top",{label:this.label})}async center(){return v("plugin:window|center",{label:this.label})}async requestUserAttention(e){let t=null;return e&&(e===Ct.Critical?t={type:"Critical"}:t={type:"Informational"}),v("plugin:window|request_user_attention",{label:this.label,value:t})}async setResizable(e){return v("plugin:window|set_resizable",{label:this.label,value:e})}async setEnabled(e){return v("plugin:window|set_enabled",{label:this.label,value:e})}async isEnabled(){return v("plugin:window|is_enabled",{label:this.label})}async setMaximizable(e){return v("plugin:window|set_maximizable",{label:this.label,value:e})}async setMinimizable(e){return v("plugin:window|set_minimizable",{label:this.label,value:e})}async setClosable(e){return v("plugin:window|set_closable",{label:this.label,value:e})}async setTitle(e){return v("plugin:window|set_title",{label:this.label,value:e})}async maximize(){return v("plugin:window|maximize",{label:this.label})}async unmaximize(){return v("plugin:window|unmaximize",{label:this.label})}async toggleMaximize(){return v("plugin:window|toggle_maximize",{label:this.label})}async minimize(){return v("plugin:window|minimize",{label:this.label})}async unminimize(){return v("plugin:window|unminimize",{label:this.label})}async show(){return v("plugin:window|show",{label:this.label})}async hide(){return v("plugin:window|hide",{label:this.label})}async close(){return v("plugin:window|close",{label:this.label})}async destroy(){return v("plugin:window|destroy",{label:this.label})}async setDecorations(e){return v("plugin:window|set_decorations",{label:this.label,value:e})}async setShadow(e){return v("plugin:window|set_shadow",{label:this.label,value:e})}async setEffects(e){return v("plugin:window|set_effects",{label:this.label,value:e})}async clearEffects(){return v("plugin:window|set_effects",{label:this.label,value:null})}async setAlwaysOnTop(e){return v("plugin:window|set_always_on_top",{label:this.label,value:e})}async setAlwaysOnBottom(e){return v("plugin:window|set_always_on_bottom",{label:this.label,value:e})}async setContentProtected(e){return v("plugin:window|set_content_protected",{label:this.label,value:e})}async setSize(e){return v("plugin:window|set_size",{label:this.label,value:e instanceof De?e:new De(e)})}async setMinSize(e){return v("plugin:window|set_min_size",{label:this.label,value:e instanceof De?e:e?new De(e):null})}async setMaxSize(e){return v("plugin:window|set_max_size",{label:this.label,value:e instanceof De?e:e?new De(e):null})}async setSizeConstraints(e){function t(a){return a?{Logical:a}:null}return v("plugin:window|set_size_constraints",{label:this.label,value:{minWidth:t(e==null?void 0:e.minWidth),minHeight:t(e==null?void 0:e.minHeight),maxWidth:t(e==null?void 0:e.maxWidth),maxHeight:t(e==null?void 0:e.maxHeight)}})}async setPosition(e){return v("plugin:window|set_position",{label:this.label,value:e instanceof nt?e:new nt(e)})}async setFullscreen(e){return v("plugin:window|set_fullscreen",{label:this.label,value:e})}async setSimpleFullscreen(e){return v("plugin:window|set_simple_fullscreen",{label:this.label,value:e})}async setFocus(){return v("plugin:window|set_focus",{label:this.label})}async setFocusable(e){return v("plugin:window|set_focusable",{label:this.label,value:e})}async setIcon(e){return v("plugin:window|set_icon",{label:this.label,value:rt(e)})}async setSkipTaskbar(e){return v("plugin:window|set_skip_taskbar",{label:this.label,value:e})}async setCursorGrab(e){return v("plugin:window|set_cursor_grab",{label:this.label,value:e})}async setCursorVisible(e){return v("plugin:window|set_cursor_visible",{label:this.label,value:e})}async setCursorIcon(e){return v("plugin:window|set_cursor_icon",{label:this.label,value:e})}async setBackgroundColor(e){return v("plugin:window|set_background_color",{color:e})}async setCursorPosition(e){return v("plugin:window|set_cursor_position",{label:this.label,value:e instanceof nt?e:new nt(e)})}async setIgnoreCursorEvents(e){return v("plugin:window|set_ignore_cursor_events",{label:this.label,value:e})}async startDragging(){return v("plugin:window|start_dragging",{label:this.label})}async startResizeDragging(e){return v("plugin:window|start_resize_dragging",{label:this.label,value:e})}async setBadgeCount(e){return v("plugin:window|set_badge_count",{label:this.label,value:e})}async setBadgeLabel(e){return v("plugin:window|set_badge_label",{label:this.label,value:e})}async setOverlayIcon(e){return v("plugin:window|set_overlay_icon",{label:this.label,value:e?rt(e):void 0})}async setProgressBar(e){return v("plugin:window|set_progress_bar",{label:this.label,value:e})}async setVisibleOnAllWorkspaces(e){return v("plugin:window|set_visible_on_all_workspaces",{label:this.label,value:e})}async setTitleBarStyle(e){return v("plugin:window|set_title_bar_style",{label:this.label,value:e})}async setTheme(e){return v("plugin:window|set_theme",{label:this.label,value:e})}async onResized(e){return this.listen(ce.WINDOW_RESIZED,t=>{t.payload=new qe(t.payload),e(t)})}async onMoved(e){return this.listen(ce.WINDOW_MOVED,t=>{t.payload=new Ae(t.payload),e(t)})}async onCloseRequested(e){return this.listen(ce.WINDOW_CLOSE_REQUESTED,async t=>{const a=new qa(t);await e(a),a.isPreventDefault()||await this.destroy()})}async onDragDropEvent(e){const t=await this.listen(ce.DRAG_ENTER,d=>{e({...d,payload:{type:"enter",paths:d.payload.paths,position:new Ae(d.payload.position)}})}),a=await this.listen(ce.DRAG_OVER,d=>{e({...d,payload:{type:"over",position:new Ae(d.payload.position)}})}),o=await this.listen(ce.DRAG_DROP,d=>{e({...d,payload:{type:"drop",paths:d.payload.paths,position:new Ae(d.payload.position)}})}),c=await this.listen(ce.DRAG_LEAVE,d=>{e({...d,payload:{type:"leave"}})});return()=>{t(),o(),a(),c()}}async onFocusChanged(e){const t=await this.listen(ce.WINDOW_FOCUS,o=>{e({...o,payload:!0})}),a=await this.listen(ce.WINDOW_BLUR,o=>{e({...o,payload:!1})});return()=>{t(),a()}}async onScaleChanged(e){return this.listen(ce.WINDOW_SCALE_FACTOR_CHANGED,e)}async onThemeChanged(e){return this.listen(ce.WINDOW_THEME_CHANGED,e)}}var Vt;(function(i){i.Disabled="disabled",i.Throttle="throttle",i.Suspend="suspend"})(Vt||(Vt={}));var Ft;(function(i){i.Default="default",i.FluentOverlay="fluentOverlay"})(Ft||(Ft={}));var Ht;(function(i){i.AppearanceBased="appearanceBased",i.Light="light",i.Dark="dark",i.MediumLight="mediumLight",i.UltraDark="ultraDark",i.Titlebar="titlebar",i.Selection="selection",i.Menu="menu",i.Popover="popover",i.Sidebar="sidebar",i.HeaderView="headerView",i.Sheet="sheet",i.WindowBackground="windowBackground",i.HudWindow="hudWindow",i.FullScreenUI="fullScreenUI",i.Tooltip="tooltip",i.ContentBackground="contentBackground",i.UnderWindowBackground="underWindowBackground",i.UnderPageBackground="underPageBackground",i.Mica="mica",i.Blur="blur",i.Acrylic="acrylic",i.Tabbed="tabbed",i.TabbedDark="tabbedDark",i.TabbedLight="tabbedLight"})(Ht||(Ht={}));var Ut;(function(i){i.FollowsWindowActiveState="followsWindowActiveState",i.Active="active",i.Inactive="inactive"})(Ut||(Ut={}));function Ya(i,e){i.relatedTarget!==null&&e(!0)}function Ka(i,e,t,a,o){const c=i.relatedTarget;s(e)&&c&&s(e).contains(c)||t()||a()||o(!1)}var ja=te('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" width="24" height="24" fill="currentColor"><path d="M259.1 73.5C262.1 58.7 275.2 48 290.4 48L350.2 48C365.4 48 378.5 58.7 381.5 73.5L396 143.5C410.1 149.5 423.3 157.2 435.3 166.3L503.1 143.8C517.5 139 533.3 145 540.9 158.2L570.8 210C578.4 223.2 575.7 239.8 564.3 249.9L511 297.3C511.9 304.7 512.3 312.3 512.3 320C512.3 327.7 511.8 335.3 511 342.7L564.4 390.2C575.8 400.3 578.4 417 570.9 430.1L541 481.9C533.4 495 517.6 501.1 503.2 496.3L435.4 473.8C423.3 482.9 410.1 490.5 396.1 496.6L381.7 566.5C378.6 581.4 365.5 592 350.4 592L290.6 592C275.4 592 262.3 581.3 259.3 566.5L244.9 496.6C230.8 490.6 217.7 482.9 205.6 473.8L137.5 496.3C123.1 501.1 107.3 495.1 99.7 481.9L69.8 430.1C62.2 416.9 64.9 400.3 76.3 390.2L129.7 342.7C128.8 335.3 128.4 327.7 128.4 320C128.4 312.3 128.9 304.7 129.7 297.3L76.3 249.8C64.9 239.7 62.3 223 69.8 209.9L99.7 158.1C107.3 144.9 123.1 138.9 137.5 143.7L205.3 166.2C217.4 157.1 230.6 149.5 244.6 143.4L259.1 73.5zM320.3 400C364.5 399.8 400.2 363.9 400 319.7C399.8 275.5 363.9 239.8 319.7 240C275.5 240.2 239.8 276.1 240 320.3C240.2 364.5 276.1 400.2 320.3 400z"></path></svg>'),Qa=te('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" width="24" height="24" fill="currentColor"><path d="M183.1 137.4C170.6 124.9 150.3 124.9 137.8 137.4C125.3 149.9 125.3 170.2 137.8 182.7L275.2 320L137.9 457.4C125.4 469.9 125.4 490.2 137.9 502.7C150.4 515.2 170.7 515.2 183.2 502.7L320.5 365.3L457.9 502.6C470.4 515.1 490.7 515.1 503.2 502.6C515.7 490.1 515.7 469.8 503.2 457.3L365.8 320L503.1 182.6C515.6 170.1 515.6 149.8 503.1 137.3C490.6 124.8 470.3 124.8 457.8 137.3L320.5 274.7L183.1 137.4z"></path></svg>'),Za=te('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" width="25" height="25" fill="currentColor" aria-hidden="true"><path d="M224 224C224 171 267 128 320 128C373 128 416 171 416 224C416 266.7 388.1 302.9 349.5 315.4C321.1 324.6 288 350.7 288 392L288 416C288 433.7 302.3 448 320 448C337.7 448 352 433.7 352 416L352 392C352 390.3 352.6 387.9 355.5 384.7C358.5 381.4 363.4 378.2 369.2 376.3C433.5 355.6 480 295.3 480 224C480 135.6 408.4 64 320 64C231.6 64 160 135.6 160 224C160 241.7 174.3 256 192 256C209.7 256 224 241.7 224 224zM320 576C342.1 576 360 558.1 360 536C360 513.9 342.1 496 320 496C297.9 496 280 513.9 280 536C280 558.1 297.9 576 320 576z"></path></svg>'),Xa=te('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" width="35" height="35" fill="currentColor" aria-hidden="true"><path d="M237.9 461.4C237.9 463.4 235.6 465 232.7 465C229.4 465.3 227.1 463.7 227.1 461.4C227.1 459.4 229.4 457.8 232.3 457.8C235.3 457.5 237.9 459.1 237.9 461.4zM206.8 456.9C206.1 458.9 208.1 461.2 211.1 461.8C213.7 462.8 216.7 461.8 217.3 459.8C217.9 457.8 216 455.5 213 454.6C210.4 453.9 207.5 454.9 206.8 456.9zM251 455.2C248.1 455.9 246.1 457.8 246.4 460.1C246.7 462.1 249.3 463.4 252.3 462.7C255.2 462 257.2 460.1 256.9 458.1C256.6 456.2 253.9 454.9 251 455.2zM316.8 72C178.1 72 72 177.3 72 316C72 426.9 141.8 521.8 241.5 555.2C254.3 557.5 258.8 549.6 258.8 543.1C258.8 536.9 258.5 502.7 258.5 481.7C258.5 481.7 188.5 496.7 173.8 451.9C173.8 451.9 162.4 422.8 146 415.3C146 415.3 123.1 399.6 147.6 399.9C147.6 399.9 172.5 401.9 186.2 425.7C208.1 464.3 244.8 453.2 259.1 446.6C261.4 430.6 267.9 419.5 275.1 412.9C219.2 406.7 162.8 398.6 162.8 302.4C162.8 274.9 170.4 261.1 186.4 243.5C183.8 237 175.3 210.2 189 175.6C209.9 169.1 258 202.6 258 202.6C278 197 299.5 194.1 320.8 194.1C342.1 194.1 363.6 197 383.6 202.6C383.6 202.6 431.7 169 452.6 175.6C466.3 210.3 457.8 237 455.2 243.5C471.2 261.2 481 275 481 302.4C481 398.9 422.1 406.6 366.2 412.9C375.4 420.8 383.2 435.8 383.2 459.3C383.2 493 382.9 534.7 382.9 542.9C382.9 549.4 387.5 557.3 400.2 555C500.2 521.8 568 426.9 568 316C568 177.3 455.5 72 316.8 72zM169.2 416.9C167.9 417.9 168.2 420.2 169.9 422.1C171.5 423.7 173.8 424.4 175.1 423.1C176.4 422.1 176.1 419.8 174.4 417.9C172.8 416.3 170.5 415.6 169.2 416.9zM158.4 408.8C157.7 410.1 158.7 411.7 160.7 412.7C162.3 413.7 164.3 413.4 165 412C165.7 410.7 164.7 409.1 162.7 408.1C160.7 407.5 159.1 407.8 158.4 408.8zM190.8 444.4C189.2 445.7 189.8 448.7 192.1 450.6C194.4 452.9 197.3 453.2 198.6 451.6C199.9 450.3 199.3 447.3 197.3 445.4C195.1 443.1 192.1 442.8 190.8 444.4zM179.4 429.7C177.8 430.7 177.8 433.3 179.4 435.6C181 437.9 183.7 438.9 185 437.9C186.6 436.6 186.6 434 185 431.7C183.6 429.4 181 428.4 179.4 429.7z"></path></svg>'),$a=te('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" width="25" height="25" stroke-width="65" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><path d="M160 96C160 78.3 174.3 64 192 64L448 64C465.7 64 480 78.3 480 96C480 113.7 465.7 128 448 128L418.5 128L428.8 262.1C465.9 283.3 494.6 318.5 507 361.8L510.8 375.2C513.6 384.9 511.6 395.2 505.6 403.3C499.6 411.4 490 416 480 416L160 416C150 416 140.5 411.3 134.5 403.3C128.5 395.3 126.5 384.9 129.3 375.2L133 361.8C145.4 318.5 174 283.3 211.2 262.1L221.5 128L192 128C174.3 128 160 113.7 160 96zM288 464L352 464L352 576C352 593.7 337.7 608 320 608C302.3 608 288 593.7 288 576L288 464z"></path></svg>'),es=ee('<div class="settings-container svelte-16pyvlm"><!> <!> <!></div>'),ts=te('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" width="24" height="24" fill="currentColor"><path d="M416.9 85.2L372 130.1L509.9 268L554.8 223.1C568.4 209.6 576 191.2 576 172C576 152.8 568.4 134.4 554.8 120.9L519.1 85.2C505.6 71.6 487.2 64 468 64C448.8 64 430.4 71.6 416.9 85.2zM338.1 164L122.9 379.1C112.2 389.8 104.4 403.2 100.3 417.8L64.9 545.6C62.6 553.9 64.9 562.9 71.1 569C77.3 575.1 86.2 577.5 94.5 575.2L222.3 539.7C236.9 535.6 250.2 527.9 261 517.1L476 301.9L338.1 164z"></path></svg>'),ns=te('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" width="24" height="24" fill="currentColor"><path d="M183.1 137.4C170.6 124.9 150.3 124.9 137.8 137.4C125.3 149.9 125.3 170.2 137.8 182.7L275.2 320L137.9 457.4C125.4 469.9 125.4 490.2 137.9 502.7C150.4 515.2 170.7 515.2 183.2 502.7L320.5 365.3L457.9 502.6C470.4 515.1 490.7 515.1 503.2 502.6C515.7 490.1 515.7 469.8 503.2 457.3L365.8 320L503.1 182.6C515.6 170.1 515.6 149.8 503.1 137.3C490.6 124.8 470.3 124.8 457.8 137.3L320.5 274.7L183.1 137.4z"></path></svg>'),is=ee("<p>Return</p>"),as=ee("<!> <!>",1),ss=ee('<div role="region" aria-label="Application controls"><div><div><!></div> <div><!></div> <div><!></div></div></div>');function ls(i,e){ue(e,!0);let t=q(e,"dockOpen",15),a=q(e,"settingsMenuExpanded",15),o=q(e,"closeMenuExpanded",15);const c=Ee();ze(()=>{a()&&o()&&o(!1)}),ze(()=>{o()&&a()&&a(!1)}),ze(()=>{t()||(a(!1),o(!1))});let d=j(null);async function h(C){C.preventDefault(),await v("open_url",{url:"https://github.com/CameronCarlyon/ClearComms/blob/main/GUIDE.md"})}async function L(C){C.preventDefault(),await v("open_url",{url:"https://github.com/CameronCarlyon/ClearComms"})}function E(C){C.preventDefault(),c("togglewindowpinned")}async function w(){await v("quit_application")}async function B(){o(!1),a(!1),t(!1),await xt.getCurrent().hide()}var m=ss();let P;m.__focusin=[Ya,t],m.__focusout=[Ka,d,a,o,t];var A=J(m);let p;var N=J(A);let x;var I=J(N);{const C=T=>{var G=ja();y(T,G)},R=T=>{var G=Qa();y(T,G)},D=T=>{var G=es(),ne=J(G);ft(ne,{ariaLabel:"View ClearComms guide (opens in external browser)",title:"User Guide",animationIndex:3,onclick:h,icon:Ne=>{var Ie=Za();y(Ne,Ie)},$$slots:{icon:!0}});var ie=$(ne,2);ft(ie,{ariaLabel:"Visit ClearComms repository on GitHub (opens in external browser)",title:"GitHub Repository",animationIndex:4,onclick:L,icon:Ne=>{var Ie=Xa();y(Ne,Ie)},$$slots:{icon:!0}});var Se=$(ie,2);{const Oe=ke=>{var Ce=$a();de(()=>{X(Ce,"fill",e.windowPinned?"currentColor":"none"),X(Ce,"stroke",e.windowPinned?"none":"currentColor")}),y(ke,Ce)};let Ne=U(()=>e.windowPinned?"Disable pin on top":"Enable pin on top"),Ie=U(()=>e.windowPinned?"Pinned on Top":"Pin on Top");ft(Se,{get ariaLabel(){return s(Ne)},get ariaPressed(){return e.windowPinned},get title(){return s(Ie)},animationIndex:5,onclick:E,icon:Oe,$$slots:{icon:!0}})}Y(G),y(T,G)};let W=U(()=>a()?"Close settings menu":"Open settings menu"),V=U(()=>a()?"Close":"Menu");wt(I,{anchor:"left",get ariaLabel(){return s(W)},get title(){return s(V)},get expanded(){return a()},set expanded(T){a(T)},icon:C,expandedIcon:R,children:D,$$slots:{icon:!0,expandedIcon:!0,default:!0}})}Y(N);var M=$(N,2);let f;var z=J(M);{const C=V=>{var T=ts();y(V,T)};let R=U(()=>!e.audioInitialised),D=U(()=>e.isEditMode?"Exit edit mode":"Enter edit mode to configure bindings"),W=U(()=>e.isEditMode?"Exit Edit Mode":"Edit Bindings");pe(z,{variant:"toggle",get active(){return e.isEditMode},get disabled(){return s(R)},get ariaLabel(){return s(D)},get title(){return s(W)},$$events:{toggle:()=>c("toggleeditmode")},icon:C,$$slots:{icon:!0}})}Y(M);var S=$(M,2);let O;var k=J(S);{const C=T=>{var G=ns();y(T,G)},R=T=>{var G=is();y(T,G)},D=T=>{var G=as(),ne=Z(G);pt(ne,{displayName:"Quit",danger:!0,fullWidth:!0,ariaLabel:"Quit the application",class:"close-option",animationType:"fadeIn",animationIndex:6,$$events:{select:w}});var ie=$(ne,2);pt(ie,{displayName:"Minimise",fullWidth:!0,ariaLabel:"Minimise the application",animationType:"fadeIn",class:"close-option",animationIndex:5,$$events:{select:B}}),y(T,G)};let W=U(()=>o()?"Cancel":"Close application"),V=U(()=>o()?"Cancel":"Quit");wt(k,{anchor:"right",get ariaLabel(){return s(W)},get title(){return s(V)},get expanded(){return o()},set expanded(T){o(T)},icon:C,expandedIcon:R,children:D,$$slots:{icon:!0,expandedIcon:!0,default:!0}})}Y(S),Y(A),Y(m),Pi(m,C=>g(d,C),()=>s(d)),de((C,R,D,W,V)=>{P=ge(m,1,"dock-hover-zone svelte-16pyvlm",null,P,C),p=ge(A,1,"dock svelte-16pyvlm",null,p,R),x=ge(N,1,"settings-wrapper svelte-16pyvlm",null,x,D),f=ge(M,1,"edit-button-wrapper svelte-16pyvlm",null,f,W),O=ge(S,1,"close-wrapper svelte-16pyvlm",null,O,V)},[()=>({expanded:a()||o()}),()=>({open:t(),"expanded-close":o(),"expanded-settings":a()}),()=>({expanded:a(),hidden:o()}),()=>({hidden:a()||o(),visible:t()&&!a()&&!o()}),()=>({expanded:o(),hidden:a()})]),st("mouseenter",m,()=>{t(!0)}),st("mouseleave",m,()=>{!a()&&!o()&&t(!1)}),y(i,m),ve()}Me(["focusin","focusout"]);var rs=ee(`<div class="boot-screen svelte-18p8quy" role="status" aria-live="polite"><svg class="logo svelte-18p8quy" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 869.83 749.18" aria-label="ClearComms"><defs><style>.logo-fill {
          fill: var(--text-primary);
        }
        .logo-stroke {
          fill: none;
          stroke: var(--text-primary);
          stroke-linecap: round;
          stroke-linejoin: round;
          stroke-width: 60px;
        }</style></defs><g id="Soundwaves"><path class="logo-stroke" d="M576.28,475.23c15.17-30.28,23.72-64.46,23.72-100.64s-8.55-70.35-23.72-100.64"></path><path class="logo-stroke" d="M683.62,528.9c23.26-46.44,36.38-98.84,36.38-154.31s-13.11-107.88-36.38-154.31"></path><path class="logo-stroke" d="M790.84,582.51c31.34-62.56,48.99-133.18,48.99-207.92s-17.65-145.36-48.99-207.92"></path></g><path class="logo-fill" d="M494.9,546.34c-8.9-4.45-19.43-4.2-28.1.68-123.33,69.39-293.3-29.31-286.77-175.54-2.02-143.53,165.45-237.47,286.75-169.34,8.68,4.88,19.21,5.15,28.12.69l121.48-60.74c18.97-9.48,22.34-35.08,6.55-49.23C389.92-115.86-1.05,48.49,0,374.59c-1.05,326.1,389.98,490.45,622.93,281.72,15.79-14.15,12.41-39.74-6.55-49.23l-121.48-60.74Z"></path></svg> <p> </p> <!></div>`);function os(i,e){ue(e,!0);let t=q(e,"errorMessage",3,"");const a=U(()=>e.status==="Failed");let o=j(!1);async function c(){g(o,!0);try{await v("restart_application")}catch(m){console.error("Failed to restart application:",m),g(o,!1)}}var d=rs(),h=$(J(d),2);let L;var E=J(h,!0);Y(h);var w=$(h,2);{var B=m=>{va(m,{label:"Restart Application",loadingLabel:"Restarting...",get isLoading(){return s(o)},onclick:c,ariaLabel:"Restart application"})};Q(w,m=>{s(a)&&m(B)})}Y(d),de(m=>{L=ge(h,1,"boot-status svelte-18p8quy",null,L,m),X(h,"role",s(a)?"alert":"status"),Pe(E,s(a)?t():e.status)},[()=>({error:s(a)})]),y(i,d),ve()}async function cs(i){i.preventDefault(),await v("open_url",{url:"https://cameroncarlyon.com"})}var ds=ee(`<footer class="svelte-rbhk87"><p class="svelte-rbhk87">Crafted by <a href="https://cameroncarlyon.com" class="hyperlink svelte-rbhk87" aria-label="Visit Cameron Carlyon's website (opens in external browser)">Cameron Carlyon</a></p></footer>`);function us(i,e){ue(e,!1),Oi();var t=ds(),a=J(t),o=$(J(a));o.__click=[cs],Y(a),Y(t),y(i,t),ve()}Me(["click"]);var vs=ee('<div class="error-banner svelte-1jgbysa" role="alert" aria-live="assertive"> </div>'),gs=ee("<!> <!>",1),fs=ee('<p class="status-text svelte-1jgbysa">Initialising...</p>'),ms=ee('<main role="application" aria-label="ClearComms" class="svelte-1jgbysa"><!> <!> <!></main>');function ys(i,e){ue(e,!0),console.log("[ClearComms] Component script loaded");let t=j(ye([])),a=j(ye([])),o=j(ye([])),c=j(ye([])),d=j(ye(new Set)),h=j(!1),L=null,E=null,w=j(!1),B=j("Initialising..."),m=j(!1),P=j(!1),A=j(!1),p=j(null),N=j(null),x=new Map,I=new Map,M=new Map,f=new Map,z=j(""),S=j(!1),O=j(-1),k=ye(new Map),C=ye(new Set),R=ye(new Map),D=ye(new Set),W=j(!1),V=j(!1),T=j(!1),G=j(!1),ne=j(!1),ie=j(0);ze(()=>{!s(W)||s(B)!=="Ready"||s(d).size===0&&!s(S)&&g(S,!0)}),ze(()=>{(s(T)||s(ne))&&$e()}),ze(()=>{s(d).size>0&&s(B)==="Ready"&&s(a).length>0&&Nt()});const Se=200,Oe=200,Ne=40,Ie=.3;let ke=!1,Ce=0,Ye=0,Ke=0;const be=new Map,oe=new Map,me=new Map;let Re=null,Mt=Date.now();const cn=3e5,We=1e3;ze(()=>{let r=new Set([...s(o).map(l=>l.processName),...s(c).map(l=>l.processName),...s(d)]).size;s(S)&&r>=1&&(r+=1),s(m)&&r!==s(O)&&(g(O,r,!0),bn(r))});function dn(){const n=new Set([...s(o).map(u=>u.processName),...s(c).map(u=>u.processName),...s(d)]),r=[],l=new Set;if(n.has(_e)){const u=s(a).find(b=>b.process_name===_e);u?r.push(u):r.push({session_id:Le,display_name:at,process_id:0,process_name:_e,volume:1,is_muted:!1}),l.add(_e)}for(const u of s(a))n.has(u.process_name)&&!l.has(u.process_name)&&(r.push(u),l.add(u.process_name));const _=[...s(o),...s(c)];for(const u of _)l.has(u.processName)||(r.push({session_id:`inactive_${u.processName}`,display_name:u.sessionName,process_id:0,process_name:u.processName,volume:0,is_muted:!0}),l.add(u.processName));for(const u of s(d))if(!l.has(u)){const b=s(a).find(H=>H.process_name===u);b?r.push(b):r.push({session_id:`inactive_${u}`,display_name:u,process_id:0,process_name:u,volume:0,is_muted:!0}),l.add(u)}return r}function un(){const n=new Set([...s(o).map(l=>l.processName),...s(c).map(l=>l.processName),...s(d)]),r=s(a).filter(l=>!n.has(l.process_name));return n.has(_e)||r.unshift({session_id:Le,display_name:at,process_id:0,process_name:_e,volume:1,is_muted:!1}),r}const vn=n=>{const r=window.getComputedStyle(n);return r.visibility==="hidden"||r.display==="none"?!1:n.offsetParent!==null||n.getClientRects().length>0},gn=()=>Array.from(document.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"]), [role="button"]')).filter(n=>!n.hasAttribute("disabled")&&n.getAttribute("aria-hidden")!=="true"&&vn(n)),fn=n=>{if(n.key!=="Tab"||n.defaultPrevented)return;const r=gn();if(r.length===0)return;const l=r[0],_=r[r.length-1],u=document.activeElement;n.shiftKey?(u===l||u===document.body||u===null)&&(n.preventDefault(),_.focus()):(u===_||u===document.body||u===null)&&(n.preventDefault(),l.focus())};function mn(){g(S,!s(S)),s(S)||(g(V,!1),g(T,!1),s(P)&&It(),s(A)&&zt())}ci(()=>{Fn(),Hn(),Un(),$e(),hn(),Nt();const n=yt("window-pin-changed",_=>{g(h,_.payload,!0),console.log(`[Window] Pin state changed: ${s(h)}`)}),r=async()=>{await $e(),s(h)||(s(S)&&(g(S,!1),g(P,!1),g(A,!1),g(p,null),g(N,null),g(V,!1)),g(ne,!1),g(T,!1),g(G,!1))},l=async()=>{await $e(),s(h)||(g(T,!1),g(G,!1),g(V,!1))};return window.addEventListener("blur",r),window.addEventListener("focus",l),()=>{window.removeEventListener("blur",r),window.removeEventListener("focus",l),n.then(_=>_()).catch(()=>{})}}),di(()=>{console.log("[ClearComms] Component destroying, cleaning up resources..."),pn(),Wn(),Et(),Vn(),console.log("[ClearComms] Component cleanup complete")});async function hn(){try{g(B,"Initialising input system..."),await v("init_direct_input"),g(B,"Enumerating devices..."),await v("enumerate_input_devices"),g(B,"Reading axis values..."),await St(),g(B,"Initialising audio manager...");try{await v("init_audio_manager"),g(m,!0),await ot()}catch(n){console.warn("Audio manager failed (non-critical):",n)}g(B,"Starting real-time polling..."),_n(),g(B,"Ready"),g(z,"")}catch(n){const r=`Initialisation failed: ${n}`;g(z,r),g(B,"Failed"),console.error("Initialisation error:",n)}}async function St(){try{const n=await v("get_all_axis_values");g(t,n,!0)}catch(n){console.error("Error getting axis values:",n),g(z,`Error: ${n}`),g(t,[],!0)}}function _n(){L||(g(w,!0),L=setInterval(async()=>{if(ke){Ye+=1,Ye%Se===0&&console.debug(`[ClearComms] Polling skipped ${Ye} times due to in-flight iteration`);return}ke=!0;try{await St(),await On(),await Rn(),Ce+=1,Ce>1e6&&(Ce=0,Ye=0),Ce%Se===0&&console.debug(`[ClearComms] Polling iteration ${Ce}; cached sessions ${s(a).length}; button cache size ${I.size}`)}catch(n){console.error("Polling error:",n)}finally{ke=!1}},50),wn(),xn())}function pn(){L&&(clearInterval(L),L=null),g(w,!1),ke=!1,Cn(),Mn()}function wn(){E||(E=setInterval(async()=>{try{await v("check_default_device_changed")&&console.log("Audio device changed - refreshing sessions"),await ot()}catch(n){console.error("Audio monitoring error:",n)}},1e3))}function Cn(){E&&(clearInterval(E),E=null)}async function ot(){try{const n=await v("get_audio_sessions"),r=new Map;if(s(d).has(_e)||s(o).some(_=>_.processName===_e)||s(c).some(_=>_.processName===_e))try{const _=await v("get_system_volume"),u=await v("get_system_mute"),b={session_id:Le,display_name:at,process_id:0,process_name:_e,volume:_,is_muted:u},H=s(a).findIndex(F=>F.session_id===Le);if(H!==-1){const F=s(a)[H];D.has(Le)||C.has(Le)?(b.volume=F.volume,b.is_muted=F.is_muted):(Math.abs(b.volume-F.volume)>.01&&(r.set(Le,{from:F.volume,to:b.volume}),b.volume=F.volume),b.is_muted&&F.volume===0&&(b.volume=0))}n.push(b)}catch(_){console.error("Error fetching system volume:",_)}for(const _ of n){const u=s(a).findIndex(b=>b.session_id===_.session_id);if(u!==-1){const b=s(a)[u];D.has(_.session_id)||C.has(_.session_id)?(_.volume=b.volume,_.is_muted=b.is_muted):(Math.abs(_.volume-b.volume)>.01&&(r.set(_.session_id,{from:b.volume,to:_.volume}),_.volume=b.volume),_.is_muted&&b.volume===0&&(_.volume=0))}}g(a,n,!0);for(const[_,u]of r)He(_,u.to,200);}catch(n){console.error("Error getting audio sessions:",n),g(z,`Audio error: ${n}`)}}function hs(){}async function Nt(){try{await new Promise(se=>setTimeout(se,100));const n=document.querySelector(".mixer-container"),r=document.querySelector(".application-channel");if(!n||!r){console.log("[Layout] Not yet ready for measurement - mixer or channel not found");return}const l=Math.round(r.clientWidth),u=window.getComputedStyle(n).gap,b=parseInt(u)||48,F=l+80,K=await v("update_layout_measurements",{channel_width:l,channel_gap:b,base_width:F});console.log(`[Layout] ${K}`)}catch(n){console.error("[Layout] Failed to measure and report layout dimensions:",n)}}async function bn(n){try{await v("resize_window_to_content",{sessionCount:n})}catch(r){console.error("Error resizing window:",r)}}async function Ve(n,r){n===Le?await v("set_system_volume",{volume:r}):await v("set_session_volume",{sessionId:n,volume:r})}async function Fe(n,r){n===Le?await v("set_system_mute",{muted:r}):await v("set_session_mute",{sessionId:n,muted:r})}function je(n,r){if(n.startsWith("inactive_"))return;const l=s(a).findIndex(_=>_.session_id===n);l!==-1&&(s(a)[l].volume=r,s(a)[l].is_muted=r===0)}function yn(n,r){if(n.startsWith("inactive_"))return;let l=me.get(n);l||(l={inFlight:!1,lastSent:0},me.set(n,l)),l.queuedVolume=r;const _=()=>{const u=me.get(n);if(!u)return;const b=u.queuedVolume;if(b===void 0||u.inFlight)return;const H=performance.now(),F=H-u.lastSent;if(F<Ne){u.timerId!==void 0&&clearTimeout(u.timerId);const se=Math.max(0,Ne-F);u.timerId=window.setTimeout(()=>{const he=me.get(n);he&&(he.timerId=void 0,_())},se);return}u.inFlight=!0,u.lastSent=H,u.queuedVolume=void 0,u.timerId!==void 0&&(clearTimeout(u.timerId),u.timerId=void 0);const K=b;(async()=>{try{await Ve(n,K),await Fe(n,K===0)}catch(se){console.error(`Error applying live volume for ${n}:`,se)}finally{const se=me.get(n);if(!se)return;se.inFlight=!1,_()}})()};_()}function Qe(n){const r=me.get(n);r&&(r.timerId!==void 0&&clearTimeout(r.timerId),me.delete(n))}function Be(n){const r=R.get(n);if(!r)return;r.cancelled=!0,r.frameId!==void 0&&cancelAnimationFrame(r.frameId);const l=r.resolve;r.resolve=void 0,R.delete(n),C.delete(n),l==null||l(!1)}async function He(n,r,l=200){if(n.startsWith("inactive_"))return!1;const _=s(a).find(H=>H.session_id===n);if(!_)return!1;Be(n);const u=_.volume,b=Date.now();return C.add(n),new Promise(H=>{const F={cancelled:!1,resolve:H,frameId:void 0};R.set(n,F);const K=()=>{if(F.cancelled)return;const se=Date.now()-b,he=Math.min(se/l,1),et=1-Math.pow(1-he,3),tt=u+(r-u)*et;je(n,tt),he<1?F.frameId=requestAnimationFrame(K):(R.delete(n),C.delete(n),H(!0))};K()})}function Ln(n,r){if(!n.startsWith("inactive_")&&(be.set(n,r),!oe.has(n))){const l=()=>{const u=be.get(n);if(u===void 0){oe.delete(n);return}const b=s(a).find(he=>he.session_id===n);if(!b){oe.delete(n),be.delete(n);return}const H=b.volume,F=u-H,K=H+F*Ie;if(Math.abs(F)<.001){je(n,u),oe.delete(n),be.delete(n);return}je(n,K);const se=requestAnimationFrame(l);oe.set(n,se)},_=requestAnimationFrame(l);oe.set(n,_)}}function xn(){Re||(Re=setInterval(()=>{const n=Date.now();if(n-Mt>cn&&(Sn(),Mt=n),x.size>We&&(console.warn("[ClearComms] Axis cache size exceeded limit, clearing"),x.clear()),I.size>We&&(console.warn("[ClearComms] Button cache size exceeded limit, clearing"),I.clear()),M.size>We&&(console.warn("[ClearComms] Hardware axis cache size exceeded limit, clearing"),M.clear(),f.clear()),me.size>We&&(console.warn("[ClearComms] Live volume state cache size exceeded limit, clearing"),Et()),be.size>We){console.warn("[ClearComms] Hardware volume targets cache size exceeded limit, clearing");for(const[r,l]of oe)cancelAnimationFrame(l);oe.clear(),be.clear()}},3e4))}function Mn(){Re&&(clearInterval(Re),Re=null)}function Sn(){const n=new Set(s(a).map(l=>l.session_id));for(const l of C)n.has(l)||C.delete(l);for(const l of D)n.has(l)||D.delete(l);for(const[l]of k)n.has(l)||k.delete(l);for(const[l,_]of oe)n.has(l)||(cancelAnimationFrame(_),oe.delete(l),be.delete(l));for(const[l]of me)n.has(l)||Qe(l);const r=new Set(s(o).map(l=>`${l.deviceHandle}-${l.axisName}-${l.processName}`));for(const l of Array.from(M.keys()))r.has(l)||(M.delete(l),f.delete(l));console.log("[ClearComms] Periodic memory cleanup completed")}async function ct(n,r){if(!n.startsWith("inactive_"))try{await Ve(n,r),await Fe(n,r===0),await ot()}catch(l){console.error("Error setting volume:",l),g(z,`Audio error: ${l}`)}}async function At(n,r){if(n.startsWith("inactive_"))return;const l=s(a).findIndex(u=>u.session_id===n);if(l===-1)return;const _=s(a)[l];Be(n);try{if(r&&_.volume>0){if(k.has(n)||k.set(n,_.volume),s(a)[l].is_muted=!0,Ve(n,0).catch(b=>console.error("Error setting mute volume:",b)),Fe(n,!0).catch(b=>console.error("Error setting mute state:",b)),!await He(n,0))return;s(a)[l].volume=0}else if(!r){const u=k.get(n)??.5;if(s(a)[l].is_muted=!1,Ve(n,u).catch(H=>console.error("Error setting unmute volume:",H)),Fe(n,!1).catch(H=>console.error("Error setting unmute state:",H)),!await He(n,u,200))return;k.delete(n)}}catch(u){console.error("Error setting mute:",u),g(z,`Audio error: ${u}`)}}function Nn(n,r,l,_){g(P,!0),g(p,{sessionId:n,sessionName:r,processId:l,processName:_},!0),x.clear();for(const u of s(t))x.set(u.device_handle,{...u.axes})}function It(){g(P,!1),g(p,null),x.clear()}function An(n,r,l,_){g(A,!0),g(N,{sessionId:n,sessionName:r,processId:l,processName:_},!0),I.clear();for(const u of s(t))I.set(u.device_handle,{...u.buttons})}function zt(){g(A,!1),g(N,null),I.clear()}function In(){for(const n of s(t)){const r=x.get(n.device_handle);if(r)for(const[l,_]of Object.entries(n.axes)){const u=r[l];if(u===void 0)continue;if(Math.abs(_-u)>.05)return{deviceHandle:n.device_handle,deviceName:n.device_name,axisName:l}}}return null}function zn(){for(const n of s(t)){const r=I.get(n.device_handle);if(r)for(const[l,_]of Object.entries(n.buttons)){const u=r[l];if(u!==void 0&&!u&&_)return{deviceHandle:n.device_handle,deviceName:n.device_name,buttonName:l}}}return null}function En(n,r,l,_,u,b,H){g(o,s(o).filter(K=>K.processName!==H),!0);const F={deviceHandle:n,deviceName:r,axisName:l,sessionId:_,sessionName:u,processId:b,processName:H,inverted:!1};g(o,[...s(o),F],!0),g(d,new Set([...s(d),H]),!0),Xe(),console.log(`[ClearComms] â Mapped ${r} ${l} â ${u}`),Ze()}function kn(n){const r=s(o).find(l=>l.processName===n);r&&(r.inverted=!r.inverted,g(o,[...s(o)],!0),console.log(`[ClearComms] Axis inversion ${r.inverted?"enabled":"disabled"} for ${r.sessionName}`),Ze())}function Bn(n){const r=s(o).find(l=>l.processName===n);r&&console.log(`[ClearComms] Removed mapping: ${r.deviceName} ${r.axisName} â ${r.sessionName}`),g(o,s(o).filter(l=>l.processName!==n),!0),Ze()}function Dn(n,r,l,_,u,b,H){g(c,s(c).filter(K=>K.processName!==H),!0);const F={deviceHandle:n,deviceName:r,buttonName:l,sessionId:_,sessionName:u,processId:b,processName:H};g(c,[...s(c),F],!0),g(d,new Set([...s(d),H]),!0),Xe(),console.log(`[ClearComms] â Mapped ${r} ${l} â Mute ${u}`),dt()}function Tn(n){const r=s(c).find(l=>l.processName===n);r&&console.log(`[ClearComms] Removed button mapping: ${r.deviceName} ${r.buttonName} â Mute ${r.sessionName}`),g(c,s(c).filter(l=>l.processName!==n),!0),dt()}function Pn(n){const r=s(o).find(b=>b.processName===n);r&&console.log(`[ClearComms] Removed axis mapping for ${r.sessionName}`),g(o,s(o).filter(b=>b.processName!==n),!0);const l=s(c).find(b=>b.processName===n);l&&console.log(`[ClearComms] Removed button mapping for ${l.sessionName}`),g(c,s(c).filter(b=>b.processName!==n),!0);const _=new Set(s(d));_.delete(n),g(d,_,!0),Xe(),s(d).size===0&&g(S,!1);const u=s(a).filter(b=>b.process_name===n);for(const b of u)k.delete(b.session_id),C.delete(b.session_id),D.delete(b.session_id),Be(b.session_id);console.log(`[ClearComms] â Completely removed application: ${n}`),Ze(),dt()}async function On(){if(s(P)&&s(p)){const n=In();n&&(En(n.deviceHandle,n.deviceName,n.axisName,s(p).sessionId,s(p).sessionName,s(p).processId,s(p).processName),g(P,!1),g(p,null));return}if(!(!s(m)||s(o).length===0))for(const n of s(o)){const r=s(t).find(l=>l.device_handle===n.deviceHandle);if(r&&r.axes[n.axisName]!==void 0){let l=r.axes[n.axisName];n.inverted&&(l=1-l);const _=.01;l<_?l=0:l>1-_&&(l=1);const u=`${n.deviceHandle}-${n.axisName}-${n.processName}`,b=M.get(u),H=f.get(u);if(b===void 0){M.set(u,l),f.set(u,!1);continue}if(!H)if(Math.abs(l-b)>.05)f.set(u,!0),console.log(`[ClearComms] Axis activated: ${n.deviceName} ${n.axisName} â ${n.sessionName}`);else continue;if(Math.abs(b-l)>.01){const F=s(a).find(K=>K.process_name===n.processName);if(F&&!D.has(F.session_id))try{await Ve(F.session_id,l),await Fe(F.session_id,l===0),Ln(F.session_id,l),M.set(u,l)}catch(K){console.error(`Error applying mapping for ${n.sessionName}:`,K)}}}}}async function Rn(){var r;if(s(A)&&s(N)){const l=zn();l&&(Dn(l.deviceHandle,l.deviceName,l.buttonName,s(N).sessionId,s(N).sessionName,s(N).processId,s(N).processName),g(A,!1),g(N,null));for(const _ of s(t))I.set(_.device_handle,{..._.buttons});return}if(!s(m))return;const n=new Set(s(t).map(l=>l.device_handle));if(s(c).length>0)for(const l of s(c)){const _=s(t).find(u=>u.device_handle===l.deviceHandle);if(_&&_.buttons[l.buttonName]!==void 0){const u=_.buttons[l.buttonName];if(!((r=I.get(_.device_handle))==null?void 0:r[l.buttonName])&&u){const H=s(a).find(F=>F.process_name===l.processName);if(H){const F=!H.is_muted;At(H.session_id,F)}}}}for(const l of s(t))I.set(l.device_handle,{...l.buttons});for(const l of Array.from(I.keys()))n.has(l)||I.delete(l);Ke+=1,Ke>1e6&&(Ke=0),Ke%Oe===0&&console.debug(`[ClearComms] Button state cache size ${I.size}; active handles ${n.size}`)}function Wn(){for(const[n]of R)Be(n);R.clear(),C.clear();for(const[n,r]of oe)cancelAnimationFrame(r);oe.clear(),be.clear(),console.log("[ClearComms] All animations cleaned up")}function Et(){for(const[n]of me)Qe(n);me.clear(),console.log("[ClearComms] Live volume states cleaned up")}function Vn(){x.clear(),I.clear(),M.clear(),f.clear(),k.clear(),D.clear(),be.clear(),oe.clear(),g(t,[],!0),g(a,[],!0),g(o,[],!0),g(c,[],!0),console.log("[ClearComms] All caches cleared")}function Ze(){try{localStorage.setItem("clearcomms_axis_mappings",JSON.stringify(s(o)))}catch(n){console.error("Error saving mappings:",n)}}function Fn(){try{const n=localStorage.getItem("clearcomms_axis_mappings");n&&g(o,JSON.parse(n),!0)}catch(n){console.error("Error loading mappings:",n)}}function dt(){try{localStorage.setItem("clearcomms_button_mappings",JSON.stringify(s(c)))}catch(n){console.error("Error saving button mappings:",n)}}function Hn(){try{const n=localStorage.getItem("clearcomms_button_mappings");n&&g(c,JSON.parse(n),!0)}catch(n){console.error("Error loading button mappings:",n)}}function Xe(){try{localStorage.setItem("clearcomms_pinned_apps",JSON.stringify([...s(d)]))}catch(n){console.error("Error saving pinned apps:",n)}}function Un(){try{const n=localStorage.getItem("clearcomms_pinned_apps");n&&g(d,new Set(JSON.parse(n)),!0)}catch(n){console.error("Error loading pinned apps:",n)}finally{g(W,!0)}}async function $e(){try{g(h,await v("is_window_pinned"),!0)}catch(n){console.error("Error fetching window pin state:",n)}}async function Gn(){try{const n=await v("toggle_pin_window");g(h,n,!0)}catch(n){console.error("Error toggling window pin:",n)}}function qn(n){const{sessionId:r}=n.detail;C.delete(r),D.add(r),Be(r),Qe(r)}function Jn(n){const{sessionId:r,volume:l}=n.detail;Be(r),je(r,l),yn(r,l)}async function Yn(n){const{sessionId:r,volume:l}=n.detail;await ct(r,l),D.delete(r),Qe(r)}async function Kn(n){const{sessionId:r,volume:l}=n.detail;await He(r,l,250)&&(await ct(r,l),D.delete(r))}async function jn(n){const{sessionId:r,volume:l}=n.detail;await He(r,l,150)&&await ct(r,l)}function Qn(n){const{sessionId:r,muted:l}=n.detail;At(r,l)}function Zn(n){const{session:r}=n.detail;Nn(r.session_id,r.display_name,r.process_id,r.process_name)}function Xn(n){const{session:r}=n.detail;An(r.session_id,r.display_name,r.process_id,r.process_name)}function $n(n){Bn(n.detail.processName)}function ei(n){Tn(n.detail.processName)}function ti(n){kn(n.detail.processName)}function ni(n){Pn(n.detail.processName)}function ii(n){const{processName:r}=n.detail;g(d,new Set([...s(d),r]),!0),Xe(),g(V,!1),g(ie,s(ie)+1),s(S)||g(S,!0)}var kt=ae();st("keydown",Ti,fn);var ai=Z(kt);{var si=n=>{var r=ms(),l=J(r);{var _=K=>{var se=vs(),he=J(se,!0);Y(se),de(()=>Pe(he,s(z))),y(K,se)};Q(l,K=>{s(z)&&K(_)})}var u=$(l,2);{var b=K=>{const se=U(dn),he=U(un);var et=gs(),tt=Z(et);Ga(tt,{get boundSessions(){return s(se)},get availableSessions(){return s(he)},get axisMappings(){return s(o)},get buttonMappings(){return s(c)},get isEditMode(){return s(S)},get isBindingMode(){return s(P)},get isButtonBindingMode(){return s(A)},get pendingBinding(){return s(p)},get pendingButtonBinding(){return s(N)},get addAppComponentKey(){return s(ie)},get addAppListExpanded(){return s(V)},set addAppListExpanded(Ue){g(V,Ue,!0)},$$events:{volumedragstart:qn,volumedragmove:Jn,volumedragend:Yn,volumetrackclick:Kn,volumewheel:jn,mutetoggle:Qn,startaxisbinding:Zn,startbuttonbinding:Xn,cancelaxisbinding:It,cancelbuttonbinding:zt,removeaxismapping:$n,removebuttonmapping:ei,toggleinversion:ti,removeapplication:ni,select:ii}});var ri=$(tt,2);{var oi=Ue=>{ls(Ue,{get isEditMode(){return s(S)},get audioInitialised(){return s(m)},get windowPinned(){return s(h)},get dockOpen(){return s(ne)},set dockOpen(Ge){g(ne,Ge,!0)},get settingsMenuExpanded(){return s(T)},set settingsMenuExpanded(Ge){g(T,Ge,!0)},get closeMenuExpanded(){return s(G)},set closeMenuExpanded(Ge){g(G,Ge,!0)},$$events:{toggleeditmode:mn,togglewindowpinned:Gn}})};Q(ri,Ue=>{s(d).size>0&&Ue(oi)})}y(K,et)},H=K=>{var se=fs();y(K,se)};Q(u,K=>{s(m)?K(b):K(H,!1)})}var F=$(u,2);us(F,{}),Y(r),y(n,r)},li=n=>{os(n,{get status(){return s(B)},get errorMessage(){return s(z)}})};Q(ai,n=>{s(B)==="Ready"?n(si):n(li,!1)})}y(i,kt),ve()}export{ys as component};
